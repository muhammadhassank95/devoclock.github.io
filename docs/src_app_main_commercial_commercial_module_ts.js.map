{"version":3,"file":"src_app_main_commercial_commercial_module_ts.js","mappings":"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","sources":["./src/app/main/commercial/Shared/Dtos/service-quotation-dto.ts","./src/app/main/commercial/commercial-routing.module.ts","./src/app/main/commercial/commercial.module.ts","./src/app/main/commercial/sales-invoice/sales-invoice.component.ts","./src/app/main/commercial/sales-invoice/sales-invoice.component.html","./src/app/main/commercial/service-quotation-filters/service-quotation-filters.component.ts","./src/app/main/commercial/service-quotation-filters/service-quotation-filters.component.html","./src/app/main/commercial/service-quotation/service-quotation.component.ts","./src/app/main/commercial/service-quotation/service-quotation.component.html","./src/app/main/commercial/setup forms/sales-tax-type/sales-tax-type.component.ts","./src/app/main/commercial/setup forms/sales-tax-type/sales-tax-type.component.html","./src/app/main/commercial/setup forms/voucher-status/voucher-status.component.ts","./src/app/main/commercial/setup forms/voucher-status/voucher-status.component.html","./src/app/main/commercial/shared/services/commercial.service.ts"],"sourcesContent":["export class ServiceQuotation {\n  id: number;\n  siteId: 0;\n  siteName: \"\";\n  isActive: boolean;\n  issueDate: Date;\n  userLocationId: number;\n  supplierId: number;\n  employeeId: number;\n  employeeName: string;\n  employeeErpId: string;\n  // regionId: number;\n  // regionName: string;\n  supplierName: string;\n  userLocationName: string;\n  indentNumber: string;\n  supplierSerialNumber: string;\n  voucherNumber: string;\n  requisitionNumber: number;\n  fromLocation: number;\n  fromLocationName: number;\n  attentionPerson: string;\n  toLocation: number;\n  toLocationName: string;\n  fromProjectId: number;\n  fromProjectName: string;\n  fromCostCenterId: number;\n  fromCostCenterName: string;\n  budgetDate: Date;\n  costCenterId: number;\n  designation: string;\n  costCenterName: string;\n  projectId: number;\n  projectName: string;\n  ohJobId: number;\n  ohJobName: number;\n  demandTypeId: number;\n  invoiceSubmissionDate: Date;\n  demandTypeName: string;\n  businessMonth: Date;\n  totalSaleAmount: number;\n  referenceNumber: string;\n  grossAmount: number;\n  gstAmount: number;\n  pstAmount: number;\n  totalAmount: number;\n  isConfirmed: true;\n  remarks: string;\n  totalBudgetAmount: number;\n  totalPurchaseAmount: number;\n  status: string;\n  subject: string;\n  terms: string;\n  origin: string;\n  validity: string;\n  startingComments: string;\n  endingComments: string;\n  paragraph: string;\n  voucherStatusRemarks: string;\n  voucherStatusId: number;\n  voucherStatusName: string;\n  serviceQuotationDetails: any[];\n  //   itemType = Stock;\n}\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\nimport { VoucherStatusComponent } from \"./setup forms/voucher-status/voucher-status.component\";\nimport { ServiceQuotationComponent } from \"./service-quotation/service-quotation.component\";\nimport { SalesTaxTypeComponent } from \"./setup forms/sales-tax-type/sales-tax-type.component\";\nimport { SalesInvoiceComponent } from \"./sales-invoice/sales-invoice.component\";\nimport { ServiceQuotationFiltersComponent } from \"./service-quotation-filters/service-quotation-filters.component\";\nconst routes: Routes = [\n  {\n    path: \"\",\n    children: [\n      {\n        path: \"voucher-status\",\n        component: VoucherStatusComponent,\n      },\n      {\n        path: \"sales-tax-type\",\n        component: SalesTaxTypeComponent,\n      },\n      {\n        path: \"service-quatation\",\n        component: ServiceQuotationComponent,\n      },\n      {\n        path: \"sale-invoice\",\n        component: SalesInvoiceComponent,\n      },\n      {\n        path: \"service-quotation-invoice-filters\",\n        component: ServiceQuotationFiltersComponent,\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CommercialRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { CommercialRoutingModule } from \"./commercial-routing.module\";\nimport { ButtonModule } from \"primeng/button\";\nimport { DialogModule } from \"primeng/dialog\";\nimport { TableModule } from \"primeng/table\";\nimport { PaginatorModule } from \"primeng/paginator\";\nimport { ToolbarModule } from \"primeng/toolbar\";\nimport { InputTextModule } from \"primeng/inputtext\";\nimport { CalendarModule } from \"primeng/calendar\";\nimport { AgGridAngular } from \"ag-grid-angular\";\nimport { CheckboxModule } from \"primeng/checkbox\";\nimport { ConfirmDialogModule } from \"primeng/confirmdialog\";\nimport { ToastModule } from \"primeng/toast\";\nimport { TabViewModule } from \"primeng/tabview\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { MainModule } from \"../main.module\";\nimport { FloatLabelModule } from \"primeng/floatlabel\";\nimport { RadioButtonModule } from \"primeng/radiobutton\";\nimport { InputMaskModule } from \"primeng/inputmask\";\nimport { MultiSelectModule } from \"primeng/multiselect\";\nimport { MenuModule } from \"primeng/menu\";\nimport { BsDropdownModule } from \"ngx-bootstrap/dropdown\";\nimport { SharedModule } from \"@shared/shared.module\";\nimport { InputSwitchModule } from \"primeng/inputswitch\";\nimport { VoucherStatusComponent } from \"./setup forms/voucher-status/voucher-status.component\";\nimport { ServiceQuotationComponent } from \"./service-quotation/service-quotation.component\";\nimport { SalesTaxTypeComponent } from \"./setup forms/sales-tax-type/sales-tax-type.component\";\nimport { SalesInvoiceComponent } from \"./sales-invoice/sales-invoice.component\";\nimport { ServiceQuotationFiltersComponent } from \"./service-quotation-filters/service-quotation-filters.component\";\n@NgModule({\n  declarations: [\n    VoucherStatusComponent,\n    ServiceQuotationComponent,\n    SalesTaxTypeComponent,\n    SalesInvoiceComponent,\n    ServiceQuotationFiltersComponent,\n  ],\n  imports: [\n    CommonModule,\n    CommercialRoutingModule,\n    ButtonModule,\n    DialogModule,\n    TableModule,\n    PaginatorModule,\n    ToolbarModule,\n    InputTextModule,\n    CalendarModule,\n    AgGridAngular,\n    CheckboxModule,\n    ConfirmDialogModule,\n    ToastModule,\n    TabViewModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MainModule,\n    FloatLabelModule,\n    RadioButtonModule,\n    InputMaskModule,\n    MultiSelectModule,\n    MenuModule,\n    BsDropdownModule,\n    SharedModule,\n    InputSwitchModule,\n  ],\n})\nexport class CommercialModule {}\n","import { Component, ViewChild } from \"@angular/core\";\nimport { ConfirmationService, MessageService } from \"primeng/api\";\nimport { FinanceModuleService } from \"@app/main/finance/Shared/Services/finance-module.service\";\nimport { catchError, finalize, throwError } from \"rxjs\";\nimport { GridApi, GridReadyEvent, ColDef } from \"ag-grid-community\";\nimport { BsModalRef, BsModalService } from \"ngx-bootstrap/modal\";\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { SuggestionLookupTableModalComponent } from \"@shared/components/suggestion-lookup-table-modal/SuggestionLookupTableModalComponent\";\nimport * as moment from \"moment\";\nimport { Table } from \"primeng/table\";\nimport { RestrictionDto } from \"../../budget/shared/Dtos/restriction-dto\";\nimport { RestrictionService } from \"../../budget/shared/services/restriction.service\";\nimport { mapRestrictionDto } from \"@shared/Utials/utils\";\n\n@Component({\n  selector: \"app-sales-invoice\",\n  templateUrl: \"./sales-invoice.component.html\",\n})\nexport class SalesInvoiceComponent {\n  restrictionDto: RestrictionDto = new RestrictionDto();\n  salesInoviceForm: FormGroup;\n  protected gridApi: GridApi;\n  protected setParms;\n  rowSelection: string;\n  dataForEdit: any;\n  rowCount: number;\n  rowData: any;\n  ServiceQuotationData: any;\n  today: Date = new Date();\n  MinDate: Date = new Date();\n  viewMode: boolean;\n  displaySaleInvoice: boolean;\n  currentPage = 1;\n  loading: boolean;\n  dto = {\n    skipCount: 0,\n    maxCount: 5,\n    DocOrVocNumber: \"\",\n  };\n\n  constructor(\n    private fb: FormBuilder,\n    private _financeModuleService: FinanceModuleService,\n    private _restrictionService: RestrictionService,\n    private messageService: MessageService,\n    private suggestionService: BsModalService,\n    private confirmationService?: ConfirmationService\n  ) {\n    this.salesInoviceForm = this.fb.group({\n      issueDate: [\"\", Validators.required],\n      voucherNumber: [null, Validators.required],\n      supplierId: [null, Validators.required],\n      supplierName: [\"\"],\n      supplierSerialNumber: \"\",\n      employeeId: [null],\n      employeeName: [\"\"],\n      employeeErpId: \"\",\n      salesmanName: [\"\"],\n      referenceNumber: [\"\"],\n      attentionPerson: [\"\"],\n      userLocationId: [null, [Validators.required]],\n      userLocationName: [\"\", [Validators.required]],\n      remarks: [\"\"],\n      grossAmount: [{ value: \"\", disabled: true }],\n      totalAmount: [{ value: \"\", disabled: true }],\n      gstPercentage: [{ value: \"\" }],\n      gstAmount: [{ value: \"\" }],\n      pstPercentage: [{ value: \"\" }],\n      pstAmount: [{ value: \"\" }],\n      designation: [\"\"],\n      invoiceSubmissionDate: [\"\"],\n      businessMonth: [\"\"],\n      costCenterId: \"\",\n      costCenterName: \"\",\n      projectId: \"\",\n      projectName: \"\",\n      // regionId: \"\",\n      // regionName: \"\",\n      // subject: \"\",\n      // terms: \"\",\n      // origin: \"\",\n      // validity: \"\",\n      // startingComments: \"\",\n      // paragraph: \"\",\n      // endingComments: \"\",\n      voucherStatusId: \"\",\n      voucherStatusName: \"\",\n      pstChartOfAccountId: [\"\"],\n      pstChartOfAccountName: [\"\"],\n      pstChartOfAccountSerialNumber: \"\",\n      serviceQuotationInvoiceDetails: [[]],\n    });\n\n    this.salesInoviceForm\n      .get(\"gstPercentage\")\n      ?.valueChanges.subscribe((value) => {\n        if (value) {\n          this.salesInoviceForm.get(\"pstPercentage\")?.disable();\n        } else {\n          this.salesInoviceForm.get(\"pstPercentage\")?.enable();\n        }\n      });\n\n    this.salesInoviceForm\n      .get(\"pstPercentage\")\n      ?.valueChanges.subscribe((value) => {\n        if (value) {\n          this.salesInoviceForm.get(\"gstPercentage\")?.disable();\n        } else {\n          this.salesInoviceForm.get(\"gstPercentage\")?.enable();\n        }\n      });\n  }\n\n  target = \"ServiceQuotationInvoice\";\n  data: any;\n  count: number;\n  saving: boolean;\n  editMode: boolean;\n  displayServiceQuotation: boolean;\n  dialogVisibility: boolean;\n\n  ngOnInit(): void {\n    this.getAll();\n    this.VoucherRestriction(\"SI\");\n  }\n\n  colDefs: ColDef[] = [\n    {\n      headerName: \"SrNo\",\n      editable: false,\n      field: \"srNo\",\n      sortable: true,\n      width: 90,\n      valueGetter: \"node.rowIndex+1\",\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Job ID\",\n      editable: false,\n      field: \"serviceItemId\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Job Title\",\n      editable: false,\n      field: \"serviceItemName\",\n      width: 300,\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Item ID\",\n      editable: false,\n      field: \"inventoryItemId\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Item Title\",\n      editable: false,\n      field: \"inventoryItemName\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"For Location ID\",\n      editable: false,\n      field: \"locationId\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"For Location Title\",\n      editable: false,\n      field: \"locationName\",\n      resizable: true,\n      width: 300,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Client Item Code\",\n      editable: false,\n      field: \"clientItemCode\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Client Item Title\",\n      editable: false,\n      field: \"clientItemTitle\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Remarks \",\n      editable: false,\n      field: \"remarks\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Ref Voucher No \",\n      editable: false,\n      field: \"referenceVoucherNumber\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Offer Qty\",\n      editable: false,\n      field: \"offerQty\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Ack Client Qty\",\n      editable: false,\n      field: \"acknowledgedClientQty\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Final Qty\",\n      editable: false,\n      field: \"finalQty\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Gross Rate\",\n      editable: false,\n      field: \"grossRate\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Total Amount\",\n      editable: false,\n      field: \"totalAmount\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"GST %\",\n      editable: false,\n      field: \"gstPercentage\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"GST Amount\",\n      editable: false,\n      field: \"gstAmount\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"PST %\",\n      editable: false,\n      field: \"pstPercentage\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"PST Amount\",\n      editable: false,\n      field: \"pstAmount\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      field: \"businessMonth\",\n      headerName: \"Buy Date\",\n      editable: false,\n      cellEditor: \"agDateCellEditor\",\n      valueFormatter: (params) => {\n        if (params.value) {\n          const date = new Date(params.value);\n          return date.toISOString().split(\"T\")[0]; // Format date as yyyy-mm-dd\n        }\n        return \"\";\n      },\n      valueParser: (params) => {\n        return new Date(params.newValue); // Parse string to Date object\n      },\n    },\n    {\n      headerName: \"Reference Number\",\n      editable: false,\n      field: \"referenceNumber\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n  ];\n\n  show(id?: number) {\n    if (id) {\n      this._financeModuleService\n        .getDataForEdit(id, this.target)\n        .pipe(\n          finalize(() => {}),\n          catchError((error) => {\n            debugger;\n            this.messageService.add({\n              severity: \"error\",\n              summary: \"Error\",\n              detail: error.error.error.message,\n              life: 2000,\n            });\n            return throwError(error.error.error.message);\n          })\n        )\n        .subscribe({\n          next: (response) => {\n            debugger;\n            this.dataForEdit = response;\n            this.salesInoviceForm.patchValue({\n              ...response,\n              employeeErpId: this.dataForEdit.employeeErpId,\n              issueDate: new Date(response.issueDate),\n              invoiceSubmissionDate: new Date(response.invoiceSubmissionDate),\n              businessMonth: new Date(response.businessMonth),\n            });\n            this.rowData = response.serviceQuotationInvoiceDetails;\n            this.displaySaleInvoice = true;\n          },\n        });\n    } else {\n      if (!this.restrictionDto.isCreationAllowed) {\n        this.messageService.add({\n          severity: \"info\",\n          summary: \"Info\",\n          detail: \"Creation Restricted\",\n        });\n        return;\n      }\n      debugger;\n      this.MinDate = this.restrictionDto.creationRestrictionDate;\n      this.getDefaultLocation(\"Location\", \"locationName\", \"locationId\", \"\");\n      this.editMode = false;\n      this.viewMode = false;\n      this.rowData = [];\n      this.displaySaleInvoice = true;\n      this.salesInoviceForm.reset();\n      this.salesInoviceForm.enable();\n      this.salesInoviceForm.get(\"issueDate\").setValue(this.today);\n    }\n  }\n\n  getAll() {\n    this._financeModuleService\n      .getAll(this.target)\n      .pipe(\n        finalize(() => {}),\n        catchError((error) => {\n          debugger;\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n            life: 2000,\n          });\n          return throwError(error.error.error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          debugger;\n          this.data = response.items;\n          this.count = response.totalCount;\n        },\n      });\n  }\n\n  create() {\n    debugger;\n    this.confirmationService.confirm({\n      message: \"Are you sure?\",\n      header: \"Confirmation\",\n      icon: \"pi pi-exclamation-triangle\",\n      rejectButtonStyleClass: \"p-button-text\",\n      accept: () => {\n        this.saving = true;\n        var tempArr = [];\n        this.gridApi.forEachNode((node, index) => {\n          const { id, ...rest } = node.data;\n          var tempObj = {\n            ...rest,\n            serviceQuotationDetailId: id,\n          };\n          tempArr.push(tempObj);\n        });\n\n        this.salesInoviceForm.patchValue({\n          serviceQuotationInvoiceDetails: tempArr,\n        });\n\n        if (this.rowData.length < 1) {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: \"Please add details\",\n            life: 2000,\n          });\n          this.saving = false;\n          return;\n        }\n        this._financeModuleService\n          .create(this.salesInoviceForm.value, this.target)\n          .pipe(\n            finalize(() => {\n              this.saving = false;\n            }),\n            catchError((error) => {\n              debugger;\n              this.messageService.add({\n                severity: \"error\",\n                summary: \"Error\",\n                detail: error.error.error.message,\n                life: 2000,\n              });\n              return throwError(error.error.error.message);\n            })\n          )\n          .subscribe({\n            next: (response) => {\n              if (response) {\n                debugger;\n                this.messageService.add({\n                  severity: \"info\",\n                  summary: \"Confirmed\",\n                  detail: \"CreatedSuccessfully\",\n                  life: 2000,\n                });\n                this.saving = false;\n                this.displaySaleInvoice = false;\n                this.getAll();\n              }\n            },\n          });\n      },\n    });\n  }\n\n  update() {\n    debugger;\n    this.saving = true;\n    var tempArr = [];\n    this.gridApi.forEachNode((node, index) => {\n      const { id, ...rest } = node.data;\n      var tempObj = {\n        ...rest,\n        serviceQuotationDetailId: node.data.serviceQuotationDetailId,\n      };\n      tempArr.push(tempObj);\n    });\n\n    this.salesInoviceForm.patchValue({\n      serviceQuotationInvoiceDetails: tempArr,\n    });\n    if (this.rowData.length < 1) {\n      this.messageService.add({\n        severity: \"error\",\n        summary: \"Error\",\n        detail: \"Please add details\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    const updateData = {\n      ...this.salesInoviceForm.value,\n      id: this.dataForEdit.id,\n    };\n    this._financeModuleService\n      .update(updateData, this.target)\n      .pipe(\n        finalize(() => {\n          this.saving = false;\n        }),\n        catchError((error) => {\n          debugger;\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n            life: 2000,\n          });\n          return throwError(error.error.error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          debugger;\n          this.messageService.add({\n            severity: \"success\",\n            summary: \"Confirmed\",\n            detail: \"UpdatedSuccessfully\",\n            life: 2000,\n          });\n          this.displaySaleInvoice = false;\n          this.getAll();\n          this.saving = false;\n        },\n      });\n  }\n\n  onDateChange(value?: any) {\n    debugger;\n    if (value) {\n      this.salesInoviceForm.value.issueDate = value;\n    }\n    if (\n      this.salesInoviceForm.value.userLocationId &&\n      this.salesInoviceForm.value.issueDate\n    ) {\n      this.getVoucherNumber();\n    }\n  }\n\n  getVoucherNumber() {\n    debugger;\n    this._financeModuleService\n      .getVoucherNumber(\n        this.target,\n        \"SI\",\n        this.salesInoviceForm.value.issueDate,\n        this.salesInoviceForm.value.userLocationId\n      )\n      .pipe(\n        finalize(() => {}),\n        catchError((error) => {\n          debugger;\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n            life: 2000,\n          });\n          return throwError(error.error.error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          debugger;\n          this.salesInoviceForm.get(\"voucherNumber\").setValue(response);\n        },\n        error: (err) => {\n          console.log(\"An error occurred\", err);\n        },\n      });\n  }\n\n  async getDefaultLocation(target: string, name: string, id: string, filterId) {\n    this._financeModuleService\n      .getDefaultLocation(target, filterId)\n      .pipe(\n        finalize(() => {}),\n        catchError((error) => {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n            life: 2000,\n          });\n          return throwError(error.error.error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          debugger;\n          this.salesInoviceForm\n            .get(\"userLocationName\")\n            .setValue(response.items[0].shortName);\n          this.salesInoviceForm\n            .get(\"userLocationId\")\n            .setValue(response.items[0].id);\n          this.getVoucherNumber();\n        },\n      });\n  }\n\n  setPickerValue(value: any, title: string) {\n    debugger;\n    switch (title) {\n      case \"Location\":\n        debugger;\n        this.salesInoviceForm.patchValue({\n          userLocationId: value?.id,\n          userLocationName: value.name,\n        });\n        this.getVoucherNumber();\n        break;\n      case \"Supplier\":\n        this.salesInoviceForm.patchValue({\n          supplierId: value.id,\n          supplierName: value.title,\n          supplierSerialNumber: value.serialNumber,\n        });\n        break;\n      // case \"Region\":\n      //   this.salesInoviceForm.patchValue({\n      //     regionId: value.id,\n      //     regionName: value.title,\n      //   });\n      //   break;\n      case \"Employee\":\n        this.salesInoviceForm.patchValue({\n          employeeId: value.additional,\n          employeeName: value.name,\n          employeeErpId: value.id,\n        });\n        break;\n      case \"ChartOfAccount\":\n        this.salesInoviceForm.patchValue({\n          pstChartOfAccountId: value.id,\n          pstChartOfAccountName: value.name,\n          pstChartOfAccountSerialNumber: value.serialNumber,\n        });\n        break;\n      default:\n        alert(`${title} is not defined`);\n    }\n  }\n\n  onRemoveSelected() {\n    debugger;\n    const selectedNodes = this.gridApi.getSelectedNodes();\n    if (selectedNodes.length > 0) {\n      const dataToRemove = selectedNodes.map((node) => node.data);\n      this.rowData = this.rowData.filter(\n        (row) =>\n          !dataToRemove.some(\n            (removeItem) => removeItem.generalLedgerId === row.generalLedgerId\n          )\n      );\n      this.gridApi.setRowData(this.rowData);\n      this.rowCount = this.gridApi.getDisplayedRowCount();\n      this.gridApi.refreshCells();\n    }\n  }\n\n  onGridReady(params: GridReadyEvent) {\n    this.gridApi = params.api;\n    this.rowData = [];\n    this.rowSelection = \"multiple\";\n  }\n\n  CloseModel() {\n    this.viewMode = true;\n    this.displaySaleInvoice = false;\n  }\n\n  viewOnly(id: any) {\n    this.viewMode = true;\n    this.editMode = false;\n    this.show(id);\n    // this.salesInoviceForm.disable();\n    this.MinDate = null;\n  }\n\n  edit(id: any) {\n    if (!this.restrictionDto.isEditAllowed) {\n      this.messageService.add({\n        severity: \"info\",\n        summary: \"Info\",\n        detail: \"Edit Restricted\",\n      });\n      return;\n    }\n    this.editMode = true;\n    this.viewMode = false;\n    this.show(id);\n    this.salesInoviceForm.enable();\n    this.MinDate = this.restrictionDto.editRestrictionDate;\n  }\n\n  OpenServiceInvoice() {\n    debugger;\n    this.displayServiceQuotation = true;\n    this.GetServiceQuotation();\n  }\n\n  GetServiceQuotation() {\n    this._financeModuleService\n      .getAll(\"ServiceQuotation\")\n      .pipe(\n        finalize(() => {}),\n        catchError((error) => {\n          debugger;\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n            life: 2000,\n          });\n          return throwError(error.error.error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          debugger;\n          this.ServiceQuotationData = response.items.filter(\n            (item) =>\n              item.linkedStatus == \"PENDING\" && item.status == \"APPROVED\"\n          );\n        },\n      });\n  }\n\n  SelectServiceQuotation(id: number) {\n    this._financeModuleService\n      .getDataForEdit(id, \"ServiceQuotation\")\n      .pipe(\n        finalize(() => {}),\n        catchError((error) => {\n          debugger;\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n            life: 2000,\n          });\n          return throwError(error.error.error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          debugger;\n          this.salesInoviceForm.patchValue({\n            attentionPerson: response.attentionPerson,\n            // businessMonth: new Date(response.businessMonth),\n            designation: response.designation,\n            invoiceSubmissionDate: new Date(response.invoiceSubmissionDate),\n            supplierId: response.supplierId,\n            supplierName: response.supplierName,\n            supplierSerialNumber: response.supplierSerialNumber,\n            costCenterId: response.costCenterId,\n            costCenterName: response.costCenterName,\n            projectId: response.projectId,\n            projectName: response.projectName,\n            subject: response.subject,\n            terms: response.terms,\n            origin: response.origin,\n            validity: response.validity,\n            startingComments: response.startingComments,\n            endingComments: response.endingComments,\n            paragraph: response.paragraph,\n            voucherStatusId: response.voucherStatusId,\n            voucherStatusName: response.voucherStatusName,\n            remarks: response.remarks,\n            referenceNumber: response.referenceNumber,\n          });\n\n          // this.rowData = response.serviceQuotationDetails;\n          this.rowData = [\n            ...this.rowData,\n            ...response.serviceQuotationDetails.map((item) => ({\n              ...item,\n              businessMonth: moment(response.businessMonth).format(\n                \"DD-MM-YYYY\"\n              ),\n              referenceNumber: response.voucherNumber,\n            })),\n          ];\n          this.gridApi.refreshCells();\n          this.displayServiceQuotation = false;\n          this.calculateTotalAmount();\n          console.log(this.rowData);\n        },\n      });\n  }\n\n  approve(id) {\n    if (!this.restrictionDto.isApprovalAllowed) {\n      this.messageService.add({\n        severity: \"info\",\n        summary: \"Info\",\n        detail: \"Approve Restricted\",\n      });\n      return;\n    }\n    debugger;\n    this.confirmationService.confirm({\n      message: \"Are you sure?\",\n      header: \"Confirmation\",\n      icon: \"pi pi-exclamation-triangle\",\n      rejectButtonStyleClass: \"p-button-text\",\n      accept: () => {\n        this._financeModuleService\n          .approve(id, this.target)\n          .pipe(\n            finalize(() => {}),\n            catchError((error) => {\n              debugger;\n              this.messageService.add({\n                severity: \"error\",\n                summary: \"Error\",\n                detail: error.error.error.message,\n                life: 2000,\n              });\n              return throwError(error.error.error.message);\n            })\n          )\n          .subscribe({\n            next: (response) => {\n              debugger;\n              if (response) {\n                this.messageService.add({\n                  severity: \"info\",\n                  summary: \"Confirmed\",\n                  detail: \"Approved Successfully\",\n                  life: 2000,\n                });\n                this.getAll();\n              }\n            },\n          });\n      },\n    });\n  }\n\n  delete(id: number) {\n    debugger;\n    this.confirmationService.confirm({\n      message: \"Are you sure?\",\n      header: \"Confirmation\",\n      icon: \"pi pi-exclamation-triangle\",\n      rejectButtonStyleClass: \"p-button-text\",\n      accept: () => {\n        this._financeModuleService\n          .delete(id, this.target)\n          .pipe(\n            finalize(() => {}),\n            catchError((error) => {\n              debugger;\n              this.messageService.add({\n                severity: \"error\",\n                summary: \"Error\",\n                detail: error.error.error.message,\n                life: 2000,\n              });\n              return throwError(error.error.error.message);\n            })\n          )\n          .subscribe({\n            next: (response) => {\n              debugger;\n              if (response) {\n                this.messageService.add({\n                  severity: \"info\",\n                  summary: \"Confirmed\",\n                  detail: \"Deleted Successfully\",\n                  life: 2000,\n                });\n                this.getAll();\n              }\n            },\n          });\n      },\n    });\n  }\n\n  OnCellValueChanged(params) {\n    // debugger\n    // this.calculateTotalAmount();\n  }\n\n  // calculateTotalAmount() {\n  //   let total = 0;\n  //   let gst = 0;\n  //   let pst = 0;\n  //   this.rowData.forEach((node) => {\n  //     debugger;\n\n  //     if (node.totalAmount) {\n  //       total += +node.totalAmount;\n  //     }\n\n  //     if (node.gstAmount) {\n  //       gst += +node.gstAmount;\n  //     }\n\n  //     if (node.pstAmount) {\n  //       pst += +node.pstAmount;\n  //     }\n  //   });\n  //   this.salesInoviceForm.get(\"grossAmount\").setValue(total);\n  //   this.salesInoviceForm.get(\"gstAmount\").setValue(gst);\n  //   this.salesInoviceForm.get(\"pstAmount\").setValue(pst);\n  //   debugger;\n  //   const netAmount = total + gst + pst;\n  //   this.salesInoviceForm.get(\"totalAmount\").setValue(netAmount);\n  // }\n  calculateTotalAmount() {\n    let total = 0;\n    let gst = 0;\n    let pst = 0;\n    this.rowData.forEach((node) => {\n      debugger;\n      if (node.totalAmount) {\n        total += +node.totalAmount;\n      }\n    });\n    const gstPercent = this.salesInoviceForm.get(\"gstPercentage\")?.value || 0;\n    const pstPercent = this.salesInoviceForm.get(\"pstPercentage\")?.value || 0;\n    gst = (total * gstPercent) / 100;\n    pst = (total * pstPercent) / 100;\n    debugger;\n    this.salesInoviceForm.get(\"grossAmount\").setValue(total);\n    this.salesInoviceForm.get(\"gstAmount\").setValue(gst);\n    this.salesInoviceForm.get(\"pstAmount\").setValue(pst);\n    const netAmount = total + gst + pst;\n    this.salesInoviceForm.get(\"totalAmount\").setValue(netAmount);\n  }\n  onGstPercentChange(): void {\n    this.calculateTotalAmount();\n  }\n\n  onPstPercentChange(): void {\n    this.calculateTotalAmount();\n  }\n\n  onPageChange(event: any) {\n    debugger;\n    this.dto.maxCount = event.rows;\n    this.currentPage = event.page + 1;\n    this.loading = true;\n    this.dto.skipCount = (this.currentPage - 1) * 5;\n    this._financeModuleService.getAll(this.target, this.dto).subscribe({\n      next: (response) => {\n        debugger;\n\n        this.data = response.items;\n        this.count = response.totalCount;\n\n        this.loading = false;\n      },\n    });\n  }\n  onEnter(event: any) {\n    const inputValue = (event.target as HTMLInputElement).value;\n    this.loading = true;\n    debugger;\n    this.dto.DocOrVocNumber = inputValue;\n    debugger;\n\n    this._financeModuleService.getAll(this.target, this.dto).subscribe({\n      next: (response) => {\n        debugger;\n\n        this.data = response.items;\n        this.count = response.totalCount;\n\n        this.loading = false;\n      },\n    });\n  }\n  onGlobalFilter(table: Table, event: Event) {\n    table.filterGlobal((event.target as HTMLInputElement).value, \"contains\");\n  }\n  VoucherRestriction(prefix: string) {\n    this._restrictionService\n      .getVoucherRestriction(prefix)\n      .pipe(\n        finalize(() => {}),\n        catchError((error) => {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n          });\n          return throwError(error.error.error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          console.log(response);\n          debugger;\n          this.restrictionDto = mapRestrictionDto(response.items[0]);\n          console.log(this.restrictionDto);\n        },\n      });\n  }\n}\n","<p-toolbar styleClass=\"mb-4\">\n  <ng-template pTemplate=\"left\">\n    <h3>Sales Invoice</h3>\n  </ng-template>\n  <ng-template pTemplate=\"right\">\n    <div class=\"p-toolbar-group-left\">\n      <span class=\"p-toolbar-separator\" style=\"margin-right: 10px\"></span>\n      <span\n        pButton\n        style=\"height: 25px; width: 25px; cursor: pointer\"\n        icon=\"pi pi-plus-circle\"\n        class=\"p-button-success\"\n        (click)=\"show()\"\n      ></span>\n    </div>\n    <span class=\"block md:mt-0 p-input-icon-left\">\n      <i class=\"pi pi-search\"></i>\n      <input\n        pInputText\n        type=\"text\"\n        (input)=\"onGlobalFilter(policyTable, $event)\"\n        placeholder=\"Search...\"\n        (keydown.enter)=\"onEnter($event)\"\n        style=\"height: 25px; cursor: pointer\"\n      />\n    </span>\n  </ng-template>\n</p-toolbar>\n\n<!-- Table -->\n<div class=\"card p-4\">\n  <p-table\n    #policyTable\n    [value]=\"data\"\n    styleClass=\"p-datatable-gridlines\"\n    [rowHover]=\"true\"\n    [paginatorDropdownAppendTo]=\"'body'\"\n    dataKey=\"id\"\n    [loading]=\"loading\"\n    scrollHeight=\"58vh\"\n    responsiveLayout=\"scroll\"\n    [style]=\"{ width: '100%', 'overflow-y': 'auto' }\"\n    [globalFilterFields]=\"[\n      'userLocationName',\n      'voucherNumber',\n      'supplierName',\n      'issueDate',\n      'status'\n    ]\"\n  >\n    <ng-template pTemplate=\"header\">\n      <tr>\n        <th style=\"min-width: 200px\" pSortableColumn=\"Actions\">\n          Actions <p-sortIcon field=\"Actions\" />\n        </th>\n        <th style=\"min-width: 200px\" pSortableColumn=\"voucher\">\n          Voucher No <p-sortIcon field=\"voucher\" />\n        </th>\n        <th style=\"min-width: 200px\" pSortableColumn=\"IssueDate\">\n          IssueDate <p-sortIcon field=\"IssueDate\" />\n        </th>\n        <th style=\"min-width: 200px\" pSortableColumn=\"clientName\">\n          ClientName <p-sortIcon field=\"clientName\" />\n        </th>\n        <!-- <th style=\"min-width: 200px\" pSortableColumn=\"isActive\">\n                    inspectionStatus <p-sortIcon field=\"inspectionStatus\" />\n                </th> -->\n        <th style=\"min-width: 200px\" pSortableColumn=\"status\">\n          Status <p-sortIcon field=\"status\" />\n        </th>\n      </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-item>\n      <tr>\n        <td>\n          <span\n            *ngIf=\"item.status == 'APPROVED'\"\n            style=\"height: 25px; width: 25px; cursor: pointer\"\n            pButton\n            pRipple\n            icon=\"pi pi-eye\"\n            class=\"p-button-rounded p-button-info mr-2\"\n            (click)=\"viewOnly(item.id)\"\n          ></span>\n          <span\n            *ngIf=\"item.status !== 'APPROVED'\"\n            style=\"height: 25px; width: 25px; cursor: pointer\"\n            pButton\n            pRipple\n            icon=\"pi pi-pencil\"\n            class=\"p-button-rounded p-button-info mr-2\"\n            (click)=\"edit(item.id)\"\n          ></span>\n          <span\n            *ngIf=\"item.status !== 'APPROVED'\"\n            style=\"height: 25px; width: 25px; cursor: pointer\"\n            pButton\n            pRipple\n            icon=\"pi pi-trash\"\n            class=\"p-button-rounded p-button-warning mr-2\"\n            (click)=\"delete(item.id)\"\n          ></span>\n          <span\n            pButton\n            pRipple\n            *ngIf=\"item.status === 'PENDING' || item.status == 'UNAPPROVED'\"\n            style=\"height: 25px; width: 25px; cursor: pointer\"\n            icon=\"pi pi-check\"\n            class=\"p-button-rounded p-button-warning mr-2\"\n            (click)=\"approve(item.id)\"\n          ></span>\n        </td>\n        <td>{{ item.voucherNumber }}</td>\n        <td>{{ item.issueDate | date }}</td>\n        <td>{{ item.supplierName }}</td>\n\n        <!-- <td>\n                    <span [ngClass]=\"{\n              'yes-bg': item.inspectionStatus === 'COMPLETED',\n              'no-bg': item.inspectionStatus === 'PENDING'\n            }\" [style]=\"{ height: '25px', cursor: 'pointer' }\">\n                        {{ item.inspectionStatus }}\n                    </span>\n                </td> -->\n        <td>\n          <span\n            *ngIf=\"item.status == 'APPROVED'\"\n            class=\"yes-bg\"\n            style=\"height: 25px; cursor: pointer\"\n            >{{ item.status }}</span\n          >\n          <span *ngIf=\"item.status != 'APPROVED'\" class=\"no-bg\">{{\n            item.status\n          }}</span>\n        </td>\n      </tr>\n    </ng-template>\n  </p-table>\n  <p-paginator\n    [rows]=\"5\"\n    [totalRecords]=\"this.count\"\n    (onPageChange)=\"this.onPageChange($event)\"\n    currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\"\n    [showCurrentPageReport]=\"true\"\n    [rowsPerPageOptions]=\"[this.count, 5, 20, 100]\"\n  >\n  </p-paginator>\n</div>\n\n<p-dialog\n  [maximizable]=\"true\"\n  [header]=\"editMode ? 'Edit Sales Invoice' : 'Create Sales Invoice'\"\n  [modal]=\"true\"\n  [(visible)]=\"displaySaleInvoice\"\n  [draggable]=\"false\"\n>\n  <form [formGroup]=\"salesInoviceForm\" (ngSubmit)=\"create()\">\n    <p-tabView class=\"custom-tabview\">\n      <p-tabPanel header=\"Sales Invoice\">\n        <div class=\"row col-md-12 flex mt-3\">\n          <div class=\"border col-md-6\">\n            <div class=\"row p-2\">\n              <div class=\"row col-md-12\">\n                <div class=\"col-md-3 p-field\">\n                  <label for=\"date\">Date</label>\n                  <p-calendar\n                    tabindex=\"1\"\n                    (ngModelChange)=\"onDateChange($event)\"\n                    formControlName=\"issueDate\"\n                    inputId=\"date\"\n                    [minDate]=\"MinDate\"\n                    [maxDate]=\"today\"\n                    appendTo=\"body\"\n                    [showOnFocus]=\"true\"\n                  >\n                  </p-calendar>\n                </div>\n                <div class=\"col-md-9 p-field\">\n                  <app-picker\n                    [showId]=\"false\"\n                    [title]=\"'Location'\"\n                    [id]=\"this.salesInoviceForm.value.userLocationId\"\n                    [name]=\"this.salesInoviceForm.value.userLocationName\"\n                    (valueSelected)=\"setPickerValue($event, 'Location')\"\n                  >\n                  </app-picker>\n                </div>\n              </div>\n\n              <div class=\"row col-md-12\">\n                <div id=\"inputField\" class=\"col-md-4 p-field flex flex-column\">\n                  <label for=\"name\">Voucher Number</label>\n                  <input\n                    readonly\n                    id=\"name\"\n                    type=\"text\"\n                    pInputText\n                    formControlName=\"voucherNumber\"\n                  />\n                </div>\n              </div>\n              <div\n                class=\"row col-md-12\"\n                style=\"margin-bottom: 1rem; margin-top: 1rem\"\n              >\n                <div class=\"my-auto\">\n                  <p-button\n                    label=\"Offer Performa Invoice\"\n                    (click)=\"OpenServiceInvoice()\"\n                    [text]=\"true\"\n                    [raised]=\"true\"\n                    severity=\"success\"\n                  >\n                  </p-button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"border col-md-6\">\n            <div class=\"row p-2\">\n              <div class=\"row col-md-12\">\n                <div id=\"inputField\" class=\"col-md-12 p-field flex flex-column\">\n                  <app-picker\n                    [title]=\"'Client'\"\n                    [title2]=\"'Subledger'\"\n                    [id]=\"this.salesInoviceForm.value.supplierSerialNumber\"\n                    [name]=\"this.salesInoviceForm.value.supplierName\"\n                    [chartOfAccountSubLedgerType]=\"'3,4'\"\n                    (valueSelected)=\"setPickerValue($event, 'Supplier')\"\n                  >\n                  </app-picker>\n                </div>\n              </div>\n\n              <div class=\"row col-md-12\">\n                <div id=\"inputField\" class=\"col-md-12 p-field flex flex-column\">\n                  <app-picker\n                    [title]=\"'Employee'\"\n                    [id]=\"this.salesInoviceForm.value.employeeErpId\"\n                    [name]=\"this.salesInoviceForm.value.employeeName\"\n                    (valueSelected)=\"setPickerValue($event, 'Employee')\"\n                  >\n                  </app-picker>\n                </div>\n              </div>\n\n              <div class=\"row col-md-12\">\n                <div id=\"inputField\" class=\"col-md-4 p-field flex flex-column\">\n                  <label for=\"name\">Sales Man</label>\n                  <input\n                    id=\"name\"\n                    type=\"text\"\n                    pInputText\n                    formControlName=\"attentionPerson\"\n                  />\n                </div>\n                <div id=\"inputField\" class=\"col-md-4 p-field flex flex-column\">\n                  <label for=\"name\">Attention</label>\n                  <input\n                    id=\"name\"\n                    type=\"text\"\n                    pInputText\n                    formControlName=\"attentionPerson\"\n                    readonly\n                  />\n                </div>\n                <div id=\"inputField\" class=\"col-md-4 p-field flex flex-column\">\n                  <label for=\"name\">Reference Number</label>\n                  <input\n                    id=\"name\"\n                    type=\"text\"\n                    pInputText\n                    formControlName=\"referenceNumber\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row col-md-12\">\n                <div id=\"inputField\" class=\"col-md-4 p-field flex flex-column\">\n                  <label for=\"name\">Designation</label>\n                  <input\n                    id=\"name\"\n                    type=\"text\"\n                    pInputText\n                    formControlName=\"designation\"\n                    readonly\n                  />\n                </div>\n\n                <!-- <div id=\"inputField\" class=\"col-md-4 p-field flex flex-column\">\n                                    <label for=\"name\">Business Month</label>\n                                    <p-calendar view=\"month\" dateFormat=\"mm/yy\" formControlName=\"businessMonth\"\n                                        inputId=\"businessMonth\" appendTo=\"body\" readonly>\n                                    </p-calendar>\n                                </div> -->\n\n                <div id=\"inputField\" class=\"col-md-4 p-field flex flex-column\">\n                  <label for=\"name\">Invoice Submission Date</label>\n                  <p-calendar\n                    tabindex=\"1\"\n                    formControlName=\"invoiceSubmissionDate\"\n                    inputId=\"date\"\n                    appendTo=\"body\"\n                    readonly\n                  >\n                  </p-calendar>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <br />\n\n        <!-- Grid -->\n        <div class=\"my-4\">\n          <div class=\"row col-md-12\">\n            <div>\n              <p-button\n                (click)=\"onRemoveSelected()\"\n                label=\"Remove Row\"\n                size=\"small\"\n                severity=\"danger\"\n                style=\"\n                  padding: 0.25rem 0.5rem;\n                  font-size: 0.75rem;\n                  height: auto;\n                  line-height: 1.25;\n                \"\n              />\n            </div>\n            <ag-grid-angular\n              style=\"width: 100%; height: 200px; margin-top: 12px\"\n              class=\"ag-theme-balham\"\n              [rowData]=\"rowData\"\n              [columnDefs]=\"colDefs\"\n              [animateRows]=\"true\"\n              [suppressAutoSize]=\"true\"\n              [suppressDragLeaveHidesColumns]=\"true\"\n              [rowSelection]=\"rowSelection\"\n              [singleClickEdit]=\"true\"\n              (gridReady)=\"onGridReady($event)\"\n              (cellValueChanged)=\"OnCellValueChanged($event)\"\n            >\n            </ag-grid-angular>\n          </div>\n        </div>\n\n        <div class=\"row col-md-12\">\n          <div id=\"inputField\" class=\"col-md-2 p-field flex flex-column\">\n            <label for=\"grossAmount\">Gross Amount</label>\n            <input\n              id=\"grossAmount\"\n              type=\"number\"\n              pInputText\n              formControlName=\"grossAmount\"\n              readonly\n            />\n          </div>\n          <div id=\"inputField\" class=\"col-md-1 p-field flex flex-column\">\n            <label for=\"serviceTaxGst\">GST %</label>\n            <input\n              id=\"serviceTaxGst\"\n              (change)=\"onGstPercentChange()\"\n              type=\"number\"\n              pInputText\n              formControlName=\"gstPercentage\"\n            />\n          </div>\n          <div id=\"inputField\" class=\"col-md-2 p-field flex flex-column\">\n            <label for=\"serviceTaxGst\">GST Amount</label>\n            <input\n              id=\"serviceTaxGst\"\n              type=\"number\"\n              pInputText\n              formControlName=\"gstAmount\"\n              readonly\n            />\n          </div>\n          <div id=\"inputField\" class=\"col-md-1 p-field flex flex-column\">\n            <label for=\"serviceTaxPst\">PST %</label>\n            <input\n              id=\"serviceTaxPst\"\n              (change)=\"onPstPercentChange()\"\n              type=\"number\"\n              pInputText\n              formControlName=\"pstPercentage\"\n            />\n          </div>\n          <div id=\"inputField\" class=\"col-md-2 p-field flex flex-column\">\n            <label for=\"serviceTaxPst\">PST Amount</label>\n            <input\n              id=\"serviceTaxPst\"\n              type=\"number\"\n              pInputText\n              formControlName=\"pstAmount\"\n              readonly\n            />\n          </div>\n          <div\n            *ngIf=\"!this.salesInoviceForm.value.gstPercentage\"\n            id=\"inputField\"\n            class=\"col-md-4 p-field flex flex-column\"\n          >\n            <app-picker\n              [title]=\"'PST ChartOfAccount'\"\n              [title2]=\"'Tax'\"\n              [filterWiseChartOfAccTarget]=\"'Tax'\"\n              [id]=\"this.salesInoviceForm.value.pstChartOfAccountSerialNumber\"\n              [name]=\"this.salesInoviceForm.value.pstChartOfAccountName\"\n              (valueSelected)=\"setPickerValue($event, 'ChartOfAccount')\"\n            >\n            </app-picker>\n          </div>\n        </div>\n        <div class=\"\">\n          <div id=\"inputField\" class=\"col-md-3 p-field flex flex-column\">\n            <label for=\"totalAmount\">Net Amount</label>\n            <input\n              id=\"totalAmount\"\n              type=\"number\"\n              pInputText\n              formControlName=\"totalAmount\"\n              readonly\n            />\n          </div>\n        </div>\n      </p-tabPanel>\n      <p-tabPanel header=\"Other Details\">\n        <div class=\"row col-md-12\">\n          <div id=\"inputField\" class=\"p-field col-md-6\">\n            <app-picker\n              [title]=\"'CostCenter'\"\n              [id]=\"salesInoviceForm.value.costCenterId\"\n              [name]=\"salesInoviceForm.value.costCenterName\"\n              (valueSelected)=\"setPickerValue($event, 'CostCenter')\"\n            ></app-picker>\n          </div>\n          <!-- <div id=\"inputField\" class=\"p-field col-md-6\">\n            <app-picker\n              [title]=\"'Region'\"\n              [id]=\"salesInoviceForm.value.regionId\"\n              [name]=\"salesInoviceForm.value.regionName\"\n              (valueSelected)=\"setPickerValue($event, 'Region')\"\n            ></app-picker>\n          </div> -->\n        </div>\n        <div class=\"row col-md-12\">\n          <div id=\"inputField\" class=\"p-field col-md-6\">\n            <app-picker\n              [title]=\"'Project'\"\n              [id]=\"salesInoviceForm.value.projectId\"\n              [name]=\"salesInoviceForm.value.projectName\"\n              (valueSelected)=\"setPickerValue($event, 'Project')\"\n            ></app-picker>\n          </div>\n          <div id=\"inputField\" class=\"p-field col-md-6\">\n            <app-picker\n              [title]=\"'Site'\"\n              [id]=\"salesInoviceForm.value.siteId\"\n              [name]=\"salesInoviceForm.value.siteName\"\n              (valueSelected)=\"setPickerValue($event, 'Site')\"\n            ></app-picker>\n          </div>\n        </div>\n        <!-- <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"col-md-12\">\n                <label for=\"narration\" class=\"form-label\">Subject</label>\n                <input\n                  id=\"subject\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  formControlName=\"subject\"\n                  class=\"form-control\"\n                />\n              </div>\n            </div>\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"col-md-12\">\n                <label for=\"narration\" class=\"form-label\">Terms</label>\n                <input\n                  id=\"terms\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  formControlName=\"terms\"\n                  class=\"form-control\"\n                />\n              </div>\n            </div>\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"col-md-12\">\n                <label for=\"narration\" class=\"form-label\">Origin</label>\n                <input\n                  id=\"origin\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  formControlName=\"origin\"\n                  class=\"form-control\"\n                />\n              </div>\n            </div>\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"col-md-12\">\n                <label for=\"narration\" class=\"form-label\">Validity</label>\n                <input\n                  id=\"validity\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  formControlName=\"validity\"\n                  class=\"form-control\"\n                />\n              </div>\n            </div>\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"col-md-12\">\n                <label for=\"narration\" class=\"form-label\">Starting Comments</label>\n                <input\n                  id=\"comments\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  formControlName=\"startingComments\"\n                  class=\"form-control\"\n                />\n              </div>\n            </div>\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"col-md-12\">\n                <label for=\"narration\" class=\"form-label\">Paragraph</label>\n                <input\n                  id=\"paragraph\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  formControlName=\"paragraph\"\n                  class=\"form-control\"\n                />\n              </div>\n            </div>\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"col-md-12\">\n                <label for=\"narration\" class=\"form-label\">End Narration</label>\n                <input\n                  id=\"endNarration\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  formControlName=\"endingComments\"\n                  class=\"form-control\"\n                />\n              </div>\n            </div><br> -->\n        <div class=\"row col-md-12\">\n          <div id=\"inputField\" class=\"p-field col-md-6\">\n            <app-picker\n              [title]=\"'VoucherStatus'\"\n              [id]=\"salesInoviceForm.value.voucherStatusId\"\n              [name]=\"salesInoviceForm.value.voucherStatusName\"\n              (valueSelected)=\"setPickerValue($event, 'VoucherStatus')\"\n            ></app-picker>\n          </div>\n          <div id=\"inputField\" class=\"col-md-6\">\n            <label for=\"narration\" class=\"form-label\"\n              >Voucher Status Remarks</label\n            >\n            <input\n              id=\"endNarration\"\n              required\n              type=\"text\"\n              pInputText\n              class=\"form-control\"\n              formControlName=\"remarks\"\n            />\n          </div>\n        </div>\n      </p-tabPanel>\n    </p-tabView>\n\n    <div class=\"flex gap-1 justify-content-end mt-4\">\n      <p-button\n        (onClick)=\"CloseModel()\"\n        label=\"Cancel\"\n        [outlined]=\"true\"\n        severity=\"warning\"\n      />\n      <p-button\n        [loading]=\"saving\"\n        *ngIf=\"!editMode && !viewMode\"\n        (click)=\"create()\"\n        label=\"Save\"\n        [outlined]=\"true\"\n        severity=\"contrast\"\n      />\n      <p-button\n        [loading]=\"saving\"\n        *ngIf=\"editMode && !viewMode\"\n        (click)=\"update()\"\n        label=\"Update\"\n        [outlined]=\"true\"\n        severity=\"contrast\"\n      />\n    </div>\n  </form>\n</p-dialog>\n\n<p-dialog\n  [maximizable]=\"true\"\n  header=\"Copy Service Quotation\"\n  [modal]=\"true\"\n  [(visible)]=\"displayServiceQuotation\"\n  [draggable]=\"false\"\n>\n  <div class=\"p-4\">\n    <p-table\n      #requisitionTable\n      [paginator]=\"true\"\n      [rows]=\"5\"\n      [rowsPerPageOptions]=\"[5, 10, 20]\"\n      [value]=\"ServiceQuotationData\"\n      styleClass=\"p-datatable-gridlines\"\n      [rowHover]=\"true\"\n      [paginatorDropdownAppendTo]=\"'body'\"\n      dataKey=\"id\"\n      responsiveLayout=\"scroll\"\n      [style]=\"{ width: '100%', 'overflow-y': 'auto' }\"\n    >\n      <ng-template pTemplate=\"header\">\n        <tr>\n          <th style=\"min-width: 200px\" pSortableColumn=\"id\">\n            ID <p-sortIcon field=\"id\" />\n          </th>\n          <th style=\"min-width: 200px\" pSortableColumn=\"voucherNumber\">\n            Voucher No <p-sortIcon field=\"voucherNumber\" />\n          </th>\n          <th style=\"min-width: 200px\" pSortableColumn=\"issueDate\">\n            Issue Date <p-sortIcon field=\"issueDate\" />\n          </th>\n          <th style=\"min-width: 200px\" pSortableColumn=\"action\">\n            Actions <p-sortIcon field=\"action\" />\n          </th>\n        </tr>\n      </ng-template>\n      <ng-template pTemplate=\"body\" let-item>\n        <tr>\n          <td>{{ item.id }}</td>\n          <td>{{ item.voucherNumber }}</td>\n          <td>{{ item.issueDate | date : \"yyyy-MM-dd\" }}</td>\n          <td>\n            <button\n              (click)=\"SelectServiceQuotation(item.id)\"\n              pButton\n              pRipple\n              label=\"Select\"\n              class=\"p-button-rounded p-button-info mr-2\"\n            ></button>\n          </td>\n        </tr>\n      </ng-template>\n    </p-table>\n  </div>\n</p-dialog>\n\n<div>\n  <p-toast />\n  <p-confirmDialog />\n</div>\n","import { Component, ViewChild } from \"@angular/core\";\nimport { GridApi, GridReadyEvent, ColDef } from \"ag-grid-community\";\nimport { BsModalRef, BsModalService } from \"ngx-bootstrap/modal\";\nimport { SuggestionLookupTableModalComponent } from \"@shared/components/suggestion-lookup-table-modal/SuggestionLookupTableModalComponent\";\nimport { ConfirmationService, MessageService } from \"primeng/api\";\nimport { catchError, finalize, throwError } from \"rxjs\";\nimport { CommercialService } from \"../shared/services/commercial.service\";\nimport * as moment from \"moment\";\n@Component({\n  selector: \"app-service-quotation-filters\",\n  templateUrl: \"./service-quotation-filters.component.html\",\n})\nexport class ServiceQuotationFiltersComponent {\n  clientId: number;\n  clientName: string;\n  clientSerialNumber: string;\n  startDate: string;\n  endDate: string;\n  dateRange: string;\n  to: string;\n  saving: boolean;\n  status: string;\n  protected gridApi: GridApi;\n  protected setParms;\n  rowSelection: string;\n  rowCount: number;\n  rowData: any;\n  suggestionModalRef: BsModalRef;\n  @ViewChild(\"SuggestionLookupTableModalComponent\")\n  SuggestionLookupTableModalComponent: SuggestionLookupTableModalComponent;\n  constructor(\n    private commercialService: CommercialService,\n    private messageService: MessageService,\n    private confirmationService: ConfirmationService,\n    private suggestionService: BsModalService\n  ) {}\n\n  setPickerValue(value: any, title: string) {\n    debugger;\n    switch (title) {\n      case \"Client\":\n        debugger;\n        this.clientId = value.id;\n        this.clientName = value.title;\n        this.clientSerialNumber = value.serialNumber;\n        break;\n      default:\n        alert(`${title} is not defined`);\n    }\n  }\n  addIconCellRendererFunc() {\n    debugger;\n    return '<i class=\"fa fa-plus-circle fa-lg\" style=\"color: green;margin-left: -9px;cursor: pointer;\" ></i>';\n  }\n  colDefs: ColDef[] = [\n    {\n      headerName: \"SrNo\",\n      editable: false,\n      field: \"srNo\",\n      sortable: true,\n      width: 90,\n      valueGetter: \"node.rowIndex+1\",\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"SalesTax Id\",\n      editable: false,\n      field: \"salesTaxTypeId\",\n      resizable: true,\n      width: 130,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"\",\n      field: \"addItem\",\n      width: 20,\n      editable: false,\n      cellRenderer: this.addIconCellRendererFunc,\n      resizable: false,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Sales Tax Name\",\n      editable: false,\n      field: \"salesTaxTypeName\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Dated\",\n      editable: false,\n      field: \"issueDate\",\n      filter: \"agDateColumnFilter\", // Date filter\n      resizable: true,\n      suppressSizeToFit: true,\n      valueFormatter: (params) => {\n        const date = new Date(params.value); // Convert the value to a date\n        if (!isNaN(date.getTime())) {\n          return date.toLocaleDateString(\"en-US\", {\n            year: \"numeric\",\n            month: \"2-digit\",\n            day: \"2-digit\",\n          });\n        }\n        return \"\"; // Return empty if the date is invalid\n      },\n    },\n    {\n      headerName: \"Client\",\n      editable: false,\n      field: \"supplierName\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Invoice Number\",\n      editable: false,\n      field: \"salesTaxInvoiceNumber\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"St Amount\",\n      editable: false,\n      field: \"gstAmount\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? null : newValue;\n      },\n    },\n    {\n      headerName: \"Pst Amount\",\n      editable: false,\n      field: \"pstAmount\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? null : newValue;\n      },\n    },\n    {\n      headerName: \"Invoice Amount\",\n      editable: false,\n      field: \"totalAmount\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"ST. Date\",\n      field: \"salesTaxApprovalDate\",\n      editable: true,\n      cellEditor: \"agDateCellEditor\",\n      cellEditorParams: {\n        inputId: \"date\",\n        appendTo: \"body\",\n        dateFormat: \"yy-mm-dd\",\n      },\n      valueFormatter: this.dateFormatter,\n      valueParser: this.dateParser,\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"St Number\",\n      editable: false,\n      field: \"totalAmount\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    // {\n    //   headerName: \"Party\",\n    //   editable: false,\n    //   field: \"totalAmount\",\n    //   resizable: true,\n    //   suppressSizeToFit: true,\n    // },\n  ];\n  dateFormatter(params) {\n    if (params.value) {\n      const date = new Date(params.value);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, \"0\");\n      const day = String(date.getDate()).padStart(2, \"0\");\n      return `${year}-${month}-${day}`; // Format date as YYYY-MM-DD\n    }\n    return \"\";\n  }\n\n  dateParser(params) {\n    const dateString = params.newValue;\n    const date = new Date(dateString);\n    if (!isNaN(date.getTime())) {\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, \"0\");\n      const day = String(date.getDate()).padStart(2, \"0\");\n      return `${year}-${month}-${day}`;\n    }\n    return null;\n  }\n\n  onRemoveSelected() {\n    const selectedNodes = this.gridApi.getSelectedNodes();\n    if (selectedNodes.length > 0) {\n      const dataToRemove = selectedNodes.map((node) => node.data);\n\n      this.gridApi.applyTransaction({ remove: dataToRemove });\n      const updatedRowData = [];\n      this.gridApi.forEachNode((node) => updatedRowData.push(node.data));\n      this.gridApi.setRowData(updatedRowData);\n      this.rowCount = this.gridApi.getDisplayedRowCount();\n    }\n  }\n  onGridReady(params: GridReadyEvent) {\n    this.gridApi = params.api;\n    this.rowData = [];\n    this.rowSelection = \"multiple\";\n  }\n\n  cellClicked(params) {\n    debugger;\n    switch (params.column[\"colId\"]) {\n      case \"addItem\":\n        debugger;\n        this.setParms = params;\n        this.openSelectItem();\n        break;\n      default:\n        break;\n    }\n  }\n  openSelectItem() {\n    debugger;\n    const initialState: any = {\n      target: \"SalesTaxType\",\n    };\n    this.suggestionModalRef = this.suggestionService.show(\n      SuggestionLookupTableModalComponent,\n      { initialState }\n    );\n\n    this.suggestionModalRef.content.saveSuggestion.subscribe((result) => {\n      debugger;\n      this.setParms.data.salesTaxTypeId = +result.id;\n      this.setParms.data.salesTaxTypeName = result.name;\n      this.gridApi.refreshCells();\n    });\n  }\n  generate() {\n    debugger;\n    this.commercialService\n      .getSeviceQuotationInvoiceFilters(\n        \"ServiceQuotationInvoice\",\n        this.dateRange,\n        this.startDate,\n        this.endDate,\n        this.clientId,\n        this.status\n      )\n      .subscribe({\n        next: (response) => {\n          this.rowData = response.items;\n        },\n        error: (error) => {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: \"Failed to fetch data.\",\n          });\n        },\n        complete: () => {\n          console.log(\"API call completed.\");\n        },\n      });\n  }\n\n  update(payload?) {\n    debugger;\n    this.commercialService\n      .updateSalexTaxInvoice(payload, \"ServiceQuotationInvoice\")\n      .subscribe({\n        next: (response) => {\n          console.log(\"Update successful:\", response);\n          this.messageService.add({\n            severity: \"success\",\n            summary: \"Success\",\n            detail: \"Sales tax invoice updated successfully.\",\n          });\n        },\n        error: (error) => {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: \"Failed to update sales tax invoice.\",\n          });\n        },\n      });\n  }\n  onRowDoubleClick(event: any) {\n    const selectedRowData = event.data;\n    if (!selectedRowData.salesTaxTypeId) {\n      this.messageService.add({\n        severity: \"error\",\n        summary: \"error\",\n        detail: \"Sales tax Id is required\",\n        life: 2000,\n      });\n      return;\n    }\n    if (!selectedRowData.salesTaxInvoiceNumber) {\n      this.messageService.add({\n        severity: \"error\",\n        summary: \"error\",\n        detail: \"ST. Invoice Number is required\",\n        life: 2000,\n      });\n      return;\n    }\n    if (!selectedRowData.salesTaxApprovalDate) {\n      this.messageService.add({\n        severity: \"error\",\n        summary: \"error\",\n        detail: \"ST. Date is required\",\n        life: 2000,\n      });\n      return;\n    }\n    this.confirmationService.confirm({\n      message: `Are you sure you want to update  ${moment(\n        selectedRowData.salesTaxApprovalDate\n      ).format(\"YYYY-MM-DD\")} date? of id ${\n        selectedRowData.id\n      } and this Invoice Number ${selectedRowData.salesTaxInvoiceNumber}`,\n      header: \"Update Confirmation\",\n      icon: \"pi pi-exclamation-triangle\",\n      accept: () => {\n        const obj = [\n          {\n            id: selectedRowData.id,\n            salesTaxApprovalDate: moment(\n              selectedRowData.salesTaxApprovalDate\n            ).format(\"YYYY-MM-DD\"),\n            salesTaxTypeId: selectedRowData.salesTaxTypeId,\n            salesTaxTypeName: selectedRowData.salesTaxTypeName,\n            salesTaxInvoiceNumber: selectedRowData.salesTaxInvoiceNumber,\n          },\n        ];\n        debugger;\n        this.update(obj);\n      },\n      reject: () => {},\n    });\n  }\n  cellValueChanged(event) {\n    const rowData = event.data;\n    if (\n      event.colDef.field === \"salesTaxTypeId\" ||\n      event.colDef.field === \"salesTaxApprovalDate\"\n    ) {\n      if (rowData.salesTaxTypeId && rowData.salesTaxApprovalDate) {\n        this.commercialService\n          .getInvoiceNumber(\n            \"ServiceQuotationInvoice\",\n            rowData.salesTaxTypeId,\n            rowData.salesTaxApprovalDate\n          )\n          .subscribe({\n            next: (response) => {\n              rowData.salesTaxInvoiceNumber = response;\n              this.gridApi.refreshCells({ force: true });\n            },\n            error: (error) => {\n              this.messageService.add({\n                severity: \"error\",\n                summary: \"Error\",\n                detail: \"Failed to fetch invoice number.\",\n              });\n            },\n            complete: () => {},\n          });\n      }\n    }\n  }\n}\n","<p-toolbar styleClass=\"mb-4\">\n  <ng-template pTemplate=\"left\">\n    <h3>Service Quotation Invoice Filters</h3>\n  </ng-template>\n</p-toolbar>\n\n<!-- Container with scrolling enabled -->\n<div class=\"container-fluid\" style=\"max-height: 80vh; overflow-y: auto\">\n  <div class=\"row col-md-12 mt-4\"></div>\n\n  <div id=\"inputField\" class=\"p-field col-md-8\">\n    <app-picker\n      [title]=\"'Client'\"\n      [title2]=\"'Subledger'\"\n      [id]=\"this.clientSerialNumber\"\n      [chartOfAccountSubLedgerType]=\"'3,4'\"\n      [name]=\"this.clientName\"\n      (valueSelected)=\"setPickerValue($event, 'Client')\"\n    ></app-picker>\n  </div>\n\n  <div class=\"row col-md-12 mt-4\">\n    <div id=\"inputField\" class=\"col-md-2 flex flex-column\">\n      <label for=\"name\">Date Range:</label>\n      <p-calendar\n        inputId=\"date\"\n        [(ngModel)]=\"dateRange\"\n        appendTo=\"body\"\n        tabindex=\"1\"\n        [showOnFocus]=\"true\"\n        name=\"issueDate\"\n      ></p-calendar>\n    </div>\n\n    <div id=\"inputField\" class=\"col-md-2 flex flex-column\">\n      <label for=\"name\">To:</label>\n      <p-calendar\n        inputId=\"date\"\n        [(ngModel)]=\"to\"\n        appendTo=\"body\"\n        tabindex=\"1\"\n        [showOnFocus]=\"true\"\n        name=\"issueDate\"\n      ></p-calendar>\n    </div>\n\n    <div id=\"inputField\" class=\"col-md-2 flex flex-column\">\n      <label for=\"name\">Start Date:</label>\n      <p-calendar\n        inputId=\"date\"\n        [(ngModel)]=\"startDate\"\n        appendTo=\"body\"\n        tabindex=\"1\"\n        [showOnFocus]=\"true\"\n        name=\"issueDate\"\n      ></p-calendar>\n    </div>\n\n    <div id=\"inputField\" class=\"col-md-2 flex flex-column\">\n      <label for=\"name\">End Date:</label>\n      <p-calendar\n        inputId=\"date\"\n        [(ngModel)]=\"endDate\"\n        appendTo=\"body\"\n        tabindex=\"1\"\n        [showOnFocus]=\"true\"\n        name=\"issueDate\"\n      ></p-calendar>\n    </div>\n  </div>\n\n  <br /><br />\n\n  <p-button\n    (click)=\"onRemoveSelected()\"\n    label=\"Remove Row\"\n    size=\"small\"\n    severity=\"danger\"\n    style=\"\n      padding: 0.25rem 0.5rem;\n      font-size: 0.75rem;\n      height: auto;\n      line-height: 1.25;\n    \"\n  ></p-button>\n\n  <ag-grid-angular\n    class=\"ag-theme-quartz\"\n    style=\"height: 500px\"\n    [rowData]=\"rowData\"\n    [columnDefs]=\"colDefs\"\n    [rowSelection]=\"rowSelection\"\n    (gridReady)=\"onGridReady($event)\"\n    (cellClicked)=\"cellClicked($event)\"\n    [singleClickEdit]=\"true\"\n    (rowDoubleClicked)=\"onRowDoubleClick($event)\"\n    (cellValueChanged)=\"cellValueChanged($event)\"\n  >\n  </ag-grid-angular>\n\n  <div class=\"flex align-items-center\">\n    <p-radioButton\n      name=\"status\"\n      value=\"PENDING\"\n      [(ngModel)]=\"status\"\n    ></p-radioButton>\n    <label for=\"cnic\">Pending</label>\n  </div>\n  <div class=\"flex align-items-center\">\n    <p-radioButton\n      name=\"status\"\n      value=\"APPROVED\"\n      [(ngModel)]=\"status\"\n    ></p-radioButton>\n    <label for=\"token\">Approved</label>\n  </div>\n  <div class=\"flex align-items-center\">\n    <p-radioButton name=\"status\" value=\"\" [(ngModel)]=\"status\"></p-radioButton>\n    <label for=\"token\">All</label>\n  </div>\n\n  <div class=\"flex gap-1 justify-content-end mt-4\">\n    <p-button\n      [loading]=\"saving\"\n      (click)=\"generate()\"\n      label=\"Generate\"\n      [outlined]=\"true\"\n      severity=\"contrast\"\n    ></p-button>\n    <!-- <p-button [loading]=\"saving\" (click)=\"update()\" label=\"Update\" [outlined]=\"true\" severity=\"contrast\"></p-button> -->\n  </div>\n</div>\n<!-- End of scrolling container -->\n<div>\n  <p-toast />\n  <p-confirmDialog />\n</div>\n","import { Component, ViewChild } from \"@angular/core\";\nimport { ServiceQuotation } from \"../Shared/Dtos/service-quotation-dto\";\nimport { SetupsService } from \"../../inventory/Shared/Services/inventory-setup.service\";\nimport { DialogService } from \"primeng/dynamicdialog\";\nimport { ConfirmationService, MessageService } from \"primeng/api\";\nimport { BsModalService, BsModalRef } from \"ngx-bootstrap/modal\";\nimport { catchError, finalize, throwError } from \"rxjs\";\nimport { GridApi, GridReadyEvent, ColDef } from \"ag-grid-community\";\nimport { SuggestionLookupTableModalComponent } from \"@shared/components/suggestion-lookup-table-modal/SuggestionLookupTableModalComponent\";\nimport { Table } from \"primeng/table\";\nimport { RestrictionDto } from \"../../budget/shared/Dtos/restriction-dto\";\nimport { RestrictionService } from \"../../budget/shared/services/restriction.service\";\nimport { mapRestrictionDto } from \"@shared/Utials/utils\";\n\n@Component({\n  selector: \"app-service-quotation\",\n  templateUrl: \"./service-quotation.component.html\",\n})\nexport class ServiceQuotationComponent {\n  serviceQuotationDto: ServiceQuotation = new ServiceQuotation();\n  restrictionDto: RestrictionDto = new RestrictionDto();\n  tableData: any;\n  editMode: boolean;\n  target = \"ServiceQuotation\";\n  setParms: any;\n  locationName: string;\n  saving: boolean;\n  count: number;\n  today: Date = new Date();\n  MinDate: Date = new Date();\n  indentNumber: string;\n  invoiceSubmissionDate: Date;\n  itemData: [];\n  displayItem: boolean;\n  currentPage = 1;\n  loading: boolean;\n  filterDto = {\n    skipCount: 0,\n    maxCount: 5,\n    DocOrVocNumber: \"\",\n  };\n  suggestionModalRef: BsModalRef;\n  @ViewChild(\"SuggestionLookupTableModalComponent\")\n  SuggestionLookupTableModalComponent: SuggestionLookupTableModalComponent;\n  addRow: boolean;\n  rowSelection: string;\n  documentNumber: string;\n  showErpId: number;\n  rowData: any;\n  rowCount: number;\n  gridApi: any;\n  title2: any;\n  maxDate: Date = new Date();\n  displayModal: boolean;\n  view: boolean;\n  constructor(\n    private _basicTypeService: SetupsService,\n    // private dialogService: DialogService,\n    private _restrictionService: RestrictionService,\n    private messageService: MessageService,\n    private confirmationService: ConfirmationService,\n    private suggestionService: BsModalService\n  ) {}\n  ngOnInit() {\n    this.getAll();\n    this.VoucherRestriction(\"OF\");\n  }\n\n  addIconCellRendererFunc() {\n    return '<i class=\"fa fa-plus-circle fa-lg\" style=\"color: green;margin-left: -9px;cursor: pointer;\" ></i>';\n  }\n\n  colDefs: ColDef[] = [\n    {\n      headerName: \"SrNo\",\n      editable: false,\n      field: \"srNo\",\n      sortable: true,\n      valueGetter: \"node.rowIndex+1\",\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Job ID\",\n      editable: false,\n      field: \"serialNumber\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? null : newValue;\n      },\n    },\n    {\n      headerName: \"\",\n      field: \"ServiceItem\",\n      width: 20,\n      editable: false,\n      cellRenderer: this.addIconCellRendererFunc,\n      resizable: false,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Job Title\",\n      editable: false,\n      field: \"serviceItemName\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? null : newValue;\n      },\n    },\n    {\n      headerName: \"Item ID\",\n      editable: false,\n      field: \"inventoryItemId\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n\n    {\n      headerName: \"\",\n      field: \"InventoryItem\",\n      width: 20,\n      editable: false,\n      cellRenderer: this.addIconCellRendererFunc,\n      resizable: false,\n      suppressSizeToFit: true,\n    },\n\n    {\n      headerName: \"Item Name\",\n      editable: false,\n      field: \"inventoryItemName\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Site ID\",\n      editable: false,\n      field: \"siteId\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"\",\n      field: \"siteId\",\n      width: 20,\n      editable: false,\n      cellRenderer: this.addIconCellRendererFunc,\n      resizable: false,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Site Title\",\n      editable: false,\n      field: \"siteName\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    // {\n    //   headerName: \"Ref VoucherNo\",\n    //   editable: true,\n    //   field: \"referenceVoucherNumber\",\n    //   resizable: true,\n    //   suppressSizeToFit: true,\n    // },\n    {\n      headerName: \"Client Item Code\",\n      editable: true,\n      field: \"clientItemCode\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Client Item Title\",\n      editable: true,\n      field: \"clientItemTitle\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Offer Qty\",\n      editable: true,\n      field: \"offerQty\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? null : newValue;\n      },\n      cellEditor: \"agNumberCellEditor\", // Forces number input in editor\n    },\n    {\n      headerName: \"acknowledgedClientQty\",\n      editable: true,\n      field: \"acknowledgedClientQty\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? null : newValue;\n      },\n      cellEditor: \"agNumberCellEditor\", // Forces number input in editor\n    },\n    {\n      headerName: \"Final Qty\",\n      editable: true,\n      field: \"finalQty\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) || newValue < 0 ? 0 : newValue;\n      },\n      cellEditor: \"agNumberCellEditor\", // Forces number input in editor\n    },\n    {\n      headerName: \"Gross Rate\",\n      editable: true,\n      field: \"grossRate\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? null : newValue;\n      },\n\n      cellEditor: \"agNumberCellEditor\", // Forces number input in editor\n    },\n    {\n      headerName: \"Total\",\n      editable: false,\n      field: \"totalAmount\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? \"\" : newValue;\n      },\n      cellEditor: \"agNumberCellEditor\", // Forces number input in editor\n    },\n    {\n      headerName: \"GST %\",\n      editable: true,\n      field: \"gstPercentage\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? null : newValue;\n      },\n      cellEditor: \"agNumberCellEditor\", // Forces number input in editor\n    },\n    // {\n    //   headerName: \"GST Amount\",\n    //   editable: false,\n    //   field: \"gstAmount\",\n    //   resizable: true,\n    //   suppressSizeToFit: true,\n    //   valueParser: function (params) {\n    //     const newValue = parseFloat(params.newValue);\n    //     return isNaN(newValue) ? 0 : newValue;\n    //   },\n    //   cellEditor: \"agNumberCellEditor\", // Forces number input in editor\n    // },\n    {\n      headerName: \"GST Amount\",\n      editable: false,\n      field: \"gstAmount\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? 0 : newValue;\n      },\n      valueFormatter: function (params) {\n        const value = parseFloat(params.value);\n        return isNaN(value) ? \"0\" : value.toString(); // Ensures the output is a string\n      },\n      cellEditor: \"agNumberCellEditor\",\n    },\n\n    {\n      headerName: \"PST %\",\n      editable: true,\n      field: \"pstPercentage\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? null : newValue;\n      },\n      cellEditor: \"agNumberCellEditor\", // Forces number input in editor\n    },\n    // {\n    //   headerName: \"PST Amount\",\n    //   editable: false,\n    //   field: \"pstAmount\",\n    //   resizable: true,\n    //   suppressSizeToFit: true,\n    //   valueParser: function (params) {\n    //     const newValue = parseFloat(params.newValue);\n    //     return isNaN(newValue) ? \"\" : newValue;\n    //   },\n    //   cellEditor: \"agNumberCellEditor\", // Forces number input in editor\n    // },\n    {\n      headerName: \"PST Amount\",\n      editable: false,\n      field: \"pstAmount\",\n      resizable: true,\n      suppressSizeToFit: true,\n      valueParser: function (params) {\n        const newValue = parseFloat(params.newValue);\n        return isNaN(newValue) ? 0 : newValue;\n      },\n      valueFormatter: function (params) {\n        const value = parseFloat(params.value);\n        return isNaN(value) ? \"0\" : value.toString(); // Ensures the output is a string\n      },\n      cellEditor: \"agNumberCellEditor\",\n    },\n\n    {\n      headerName: \"Remarks\",\n      editable: true,\n      field: \"remarks\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Other for location\",\n      editable: false,\n      field: \"locationName\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"\",\n      field: \"Location\",\n      width: 20,\n      editable: false,\n      cellRenderer: this.addIconCellRendererFunc,\n      resizable: false,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Location Id\",\n      editable: false,\n      field: \"locationId\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n\n    {\n      headerName: \"Engine Ac Make\",\n      editable: true,\n      field: \"engineMakeYear\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Engine Rating\",\n      editable: true,\n      field: \"engineRating\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Vehicle Visit Type Title\",\n      editable: false,\n      field: \"vehicleVisitTypeName\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"\",\n      field: \"VehicleVisitType\",\n      width: 20,\n      editable: false,\n      cellRenderer: this.addIconCellRendererFunc,\n      resizable: false,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"Vehicle Visit Type Id\",\n      editable: false,\n      field: \"vehicleVisitTypeId\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n\n    {\n      headerName: \"Genset Hours\",\n      editable: true,\n      field: \"gensetHours\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n    {\n      headerName: \"CI VoucherNo\",\n      editable: false,\n      field: \"voucherNumber\",\n      resizable: true,\n      suppressSizeToFit: true,\n    },\n  ];\n\n  show(id?: number) {\n    this.saving = false;\n    if (id) {\n      this._basicTypeService\n        .getDataForEdit(id, this.target)\n        .pipe(\n          finalize(() => {}),\n          catchError((error) => {\n            debugger;\n            this.messageService.add({\n              severity: \"error\",\n              summary: \"Error\",\n              detail: error.error.error.message,\n              life: 2000,\n            });\n            return throwError(error.error.error.message);\n          })\n        )\n        .subscribe({\n          next: (response) => {\n            debugger;\n            this.serviceQuotationDto = response;\n            this.serviceQuotationDto.invoiceSubmissionDate = new Date(\n              response.invoiceSubmissionDate\n            );\n            this.serviceQuotationDto.budgetDate = new Date(response.budgetDate);\n            this.serviceQuotationDto.issueDate = new Date(response.issueDate);\n            this.serviceQuotationDto.employeeId = response.employeeId;\n            this.serviceQuotationDto.employeeName = response.employeeName;\n            this.serviceQuotationDto.fromLocation = response.fromLocation;\n            this.serviceQuotationDto.toLocation = response.toLocation;\n            this.serviceQuotationDto.toLocationName = response.toLocationName;\n            debugger;\n            this.serviceQuotationDto.userLocationId = response.userLocationId;\n            this.serviceQuotationDto.businessMonth = new Date(\n              response.businessMonth\n            );\n            this.serviceQuotationDto.userLocationName =\n              response.userLocationName;\n            this.serviceQuotationDto.totalBudgetAmount =\n              response.totalBudgetAmount;\n            this.serviceQuotationDto.totalPurchaseAmount =\n              response.totalPurchaseAmount;\n            this.serviceQuotationDto.totalSaleAmount = response.totalSaleAmount;\n            this.rowData = [];\n            this.rowData = [\n              ...this.rowData,\n              ...response.serviceQuotationDetails,\n            ];\n            this.displayModal = true;\n          },\n        });\n    } else {\n      if (!this.restrictionDto.isCreationAllowed) {\n        this.messageService.add({\n          severity: \"info\",\n          summary: \"Info\",\n          detail: \"Creation Restricted\",\n        });\n        return;\n      }\n      debugger;\n      this.MinDate = this.restrictionDto.creationRestrictionDate;\n      this.getDefaultLocation(\"Location\", \"locationName\", \"locationId\", \"\");\n      this.editMode = false;\n      this.view = false;\n      this.addRow = false;\n      this.displayModal = true;\n      this.serviceQuotationDto = new ServiceQuotation();\n      this.serviceQuotationDto.issueDate = this.today;\n      this.serviceQuotationDto.isActive = true;\n      this.locationName = null;\n      this.rowData = [];\n    }\n  }\n  edit(id?: number) {\n    if (!this.restrictionDto.isEditAllowed) {\n      this.messageService.add({\n        severity: \"info\",\n        summary: \"Info\",\n        detail: \"Edit Restricted\",\n      });\n      return;\n    }\n    this.editMode = true;\n    this.view = false;\n    this.show(id);\n    this.MinDate = this.restrictionDto.editRestrictionDate;\n  }\n  viewOnly(id?: number) {\n    this.view = true;\n    this.editMode = false;\n    this.show(id);\n    this.MinDate = null;\n  }\n\n  CloseModel() {\n    this.confirmationService.confirm({\n      message: \"Are you sure you want to close without saving?\",\n      header: \"Confirmation\",\n      icon: \"pi pi-exclamation-triangle\",\n      accept: () => {\n        this.view = false;\n        this.displayModal = false;\n      },\n      reject: () => {\n        this.displayModal = true;\n      },\n    });\n  }\n\n  delete(id: number) {\n    debugger;\n    this.confirmationService.confirm({\n      message: \"Are you sure?\",\n      header: \"Confirmation\",\n      icon: \"pi pi-exclamation-triangle\",\n      rejectButtonStyleClass: \"p-button-text\",\n      accept: () => {\n        this._basicTypeService\n          .delete(id, this.target)\n          .pipe(\n            finalize(() => {}),\n            catchError((error) => {\n              debugger;\n              this.messageService.add({\n                severity: \"error\",\n                summary: \"Error\",\n                detail: error.error.error.message,\n                life: 2000,\n              });\n              return throwError(error.error.error.message);\n            })\n          )\n          .subscribe({\n            next: (response) => {\n              debugger;\n              if (response) {\n                this.messageService.add({\n                  severity: \"info\",\n                  summary: \"Confirmed\",\n                  detail: \"Deleted Successfully\",\n                  life: 2000,\n                });\n                this.getAll();\n              }\n            },\n          });\n      },\n    });\n  }\n\n  approve(id) {\n    if (!this.restrictionDto.isApprovalAllowed) {\n      this.messageService.add({\n        severity: \"info\",\n        summary: \"Info\",\n        detail: \"Approve Restricted\",\n      });\n      return;\n    }\n    debugger;\n    this.confirmationService.confirm({\n      message: \"Are you sure?\",\n      header: \"Confirmation\",\n      icon: \"pi pi-exclamation-triangle\",\n      rejectButtonStyleClass: \"p-button-text\",\n      accept: () => {\n        this._basicTypeService\n          .ApproveDocument(id, this.target)\n          .pipe(\n            finalize(() => {}),\n            catchError((error) => {\n              debugger;\n              this.messageService.add({\n                severity: \"error\",\n                summary: \"Error\",\n                detail: error.error.error.message,\n                life: 2000,\n              });\n              return throwError(error.error.error.message);\n            })\n          )\n          .subscribe({\n            next: (response) => {\n              debugger;\n              if (response) {\n                this.messageService.add({\n                  severity: \"info\",\n                  summary: \"Confirmed\",\n                  detail: \"Approved Successfully\",\n                  life: 2000,\n                });\n                this.getAll();\n              }\n            },\n          });\n      },\n    });\n  }\n\n  validationOfReq(): boolean {\n    if (!this.serviceQuotationDto.issueDate) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Date is Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    if (!this.serviceQuotationDto.userLocationId) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"User Location is Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    if (!this.serviceQuotationDto.costCenterId) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Cost Center Id is Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    if (!this.serviceQuotationDto.projectId) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Project ID is Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    if (!this.serviceQuotationDto.supplierId) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Client is Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    if (!this.serviceQuotationDto.invoiceSubmissionDate) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Submission Date is Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    if (!this.serviceQuotationDto.indentNumber) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Indent Number is Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    if (!this.serviceQuotationDto.attentionPerson) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Attention Person is Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    if (!this.serviceQuotationDto.designation) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Designation Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    if (!this.serviceQuotationDto.referenceNumber) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Reference Number is Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    // if (!this.serviceQuotationDto.employeeId) {\n    //   this.messageService.add({\n    //     severity: \"error\",\n    //     detail: \"Employee Name is Required\",\n    //     life: 2000,\n    //   });\n    //   this.saving = false;\n    //   return;\n    // }\n    if (!this.serviceQuotationDto.businessMonth) {\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Business Date is Required\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    console.log(this.rowData.forEach((item) => item.totalAmount == 0));\n\n    if (this.rowData.some((item) => item.totalAmount == 0)) {\n      debugger;\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Please add some purchase rate amount\",\n        life: 2000,\n      });\n      this.saving = false;\n      return;\n    }\n    if (\n      this.serviceQuotationDto.totalPurchaseAmount >\n      this.serviceQuotationDto.totalBudgetAmount\n    ) {\n      this.serviceQuotationDto.totalPurchaseAmount = 0;\n      this.serviceQuotationDto.totalBudgetAmount = 0;\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Your Current Month Budget is Less Than Total Purchase Amount.\",\n        life: 2000,\n      });\n    }\n    return true;\n  }\n\n  update() {\n    this.saving = true;\n    debugger;\n    var tempArr = [];\n    this.gridApi.forEachNode((node, index) => {\n      var tempObj = {\n        serviceItemId: node.data.serviceItemId,\n        inventoryItemId: node.data.inventoryItemId,\n        siteId: node.data.siteId,\n        referenceVoucherNumber: node.data.referenceVoucherNumber,\n        clientItemCode: node.data.clientItemCode,\n        clientItemTitle: node.data.clientItemTitle,\n        offerQty: node.data.offerQty,\n        acknowledgedClientQty: node.data.acknowledgedClientQty,\n        finalQty: node.data.finalQty,\n        grossRate: node.data.grossRate,\n        gstPercentage: node.data.gstPercentage,\n        gstAmount: node.data.gstAmount,\n        pstAmount: node.data.pstAmount,\n        pstPercentage: node.data.pstPercentage,\n        locationId: node.data.locationId,\n        engineMakeYear: node.data.engineMakeYear,\n        engineRating: node.data.engineRating,\n        vehicleVisitTypeId: node.data.vehicleVisitTypeId,\n        gensetHours: node.data.gensetHours,\n        remarks: node.data.remarks,\n        totalAmount: node.data.totalAmount,\n        voucherNumber: this.serviceQuotationDto.voucherNumber,\n      };\n      tempArr.push(tempObj);\n    });\n    this.serviceQuotationDto.serviceQuotationDetails = tempArr;\n    debugger;\n    this._basicTypeService\n      .update(this.serviceQuotationDto, this.target)\n      .pipe(\n        finalize(() => {\n          this.saving = false;\n        }),\n        catchError((error) => {\n          debugger;\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n            life: 2000,\n          });\n          return throwError(error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          debugger;\n          this.messageService.add({\n            severity: \"success\",\n            summary: \"Confirmed\",\n            detail: \"UpdatedSuccessfully\",\n            life: 2000,\n          });\n          this.getAll();\n          this.saving = false;\n          this.displayModal = false;\n        },\n      });\n  }\n\n  onDateChange(value?: any) {\n    debugger;\n    if (value) {\n      this.serviceQuotationDto.issueDate = value;\n    }\n    if (\n      this.serviceQuotationDto.userLocationId &&\n      this.serviceQuotationDto.issueDate\n    ) {\n      this.GetDocMaxCount(\"ServiceQuotation\");\n    }\n  }\n\n  onGridReady(params: GridReadyEvent) {\n    this.gridApi = params.api;\n    this.rowSelection = \"multiple\";\n    this.rowData = [];\n  }\n\n  save() {\n    debugger;\n    if (!this.validationOfReq()) {\n      return;\n    }\n    this.indentNumber = this.serviceQuotationDto.indentNumber;\n    this.invoiceSubmissionDate = new Date(\n      this.serviceQuotationDto.invoiceSubmissionDate\n    );\n    this.saving = true;\n    var tempArr = [];\n    this.gridApi.forEachNode((node, index) => {\n      var tempObj = {\n        vehicleVisitTypeId: node.data.vehicleVisitTypeId || 0,\n        locationId: node.data.locationId || 0,\n        serviceItemId: node.data.serviceItemId || 0,\n        inventoryItemId: node.data.inventoryItemId || 0,\n        referenceVoucherNumber: node.data.referenceVoucherNumber || \"\",\n        clientItemCode: node.data.clientItemCode || \"\",\n        clientItemTitle: node.data.clientItemTitle || \"\",\n        engineMakeYear: node.data.engineMakeYear || \"\",\n        engineRating: node.data.engineRating || \"\",\n        gensetHours: node.data.gensetHours || \"\",\n        remarks: node.data.remarks || \"\",\n        offerQty: node.data.offerQty || 0,\n        acknowledgedClientQty: node.data.acknowledgedClientQty || 0,\n        finalQty: node.data.finalQty || 0,\n        grossRate: node.data.grossRate || 0,\n        totalAmount: node.data.totalAmount || 0,\n        gstPercentage: node.data.gstPercentage || 0,\n        gstAmount: node.data.gstAmount || 0,\n        pstAmount: node.data.gstAmount || 0,\n        pstPercentage: node.data.pstPercentage || 0,\n        chartOfAccountId: node.data.chartOfAccountId || 0,\n        chartOfAccountName: node.data.chartOfAccountName || 0,\n        qtyInStockFromLoc: node.data.qtyInStockFromLoc || 0,\n        voucherNumber:\n          this.serviceQuotationDto.voucherNumber + \"/\" + (index + 1),\n      };\n      tempArr.push(tempObj);\n    });\n    this.serviceQuotationDto.serviceQuotationDetails = tempArr;\n    let isValid = true;\n    this.gridApi.forEachNode((node) => {\n      const { serviceItemId, inventoryItemId } = node.data;\n\n      if (!serviceItemId && !inventoryItemId) {\n        this.messageService.add({\n          severity: \"error\",\n          summary: \"Required\",\n          detail: \"Please select either an Item or Job in the grid.\",\n        });\n        isValid = false;\n        return;\n      }\n\n      if (serviceItemId && inventoryItemId) {\n        this.messageService.add({\n          severity: \"error\",\n          summary: \"Required\",\n          detail: \"Please select only one: either an Item or Job in the grid.\",\n        });\n        isValid = false;\n        return;\n      }\n    });\n\n    if (!isValid) {\n      this.saving = false;\n      return;\n    }\n\n    this._basicTypeService\n      .create(this.serviceQuotationDto, this.target)\n      .pipe(\n        finalize(() => {\n          this.saving = false;\n        }),\n        catchError((error) => {\n          debugger;\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n            life: 2000,\n          });\n          return throwError(error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          debugger;\n          this.messageService.add({\n            severity: \"success\",\n            summary: \"Confirmed\",\n            detail: \"SavedSuccessfully\",\n            life: 2000,\n          });\n          this.getAll();\n          this.saving = false;\n          this.displayModal = false;\n        },\n      });\n  }\n\n  getAll() {\n    debugger;\n    this._basicTypeService\n      .getAllRequisition(this.target)\n      .pipe(\n        finalize(() => {}),\n        catchError((error) => {\n          debugger;\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error?.error?.error?.message,\n            life: 2000,\n          });\n          return throwError(error?.error?.error?.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          debugger;\n          console.log(response.items);\n          this.tableData = response.items;\n          this.count = response.totalCount;\n        },\n      });\n  }\n\n  onAddRow() {\n    if (this.validationOfReq()) {\n      this.addRow = true;\n      var newItem = {\n        itemId: \"\",\n        itemName: \"\",\n        requestedQty: \"\",\n        unitId: \"\",\n        unitName: \"\",\n        qtyInStock: \"\",\n        remarks: \"\",\n      };\n      this.gridApi.applyTransaction({ add: [newItem] });\n      this.rowCount = this.gridApi.getDisplayedRowCount();\n    }\n  }\n\n  cellClicked(params) {\n    this.setParms = params;\n    switch (params.column[\"colId\"]) {\n      case \"ServiceItem\":\n        if (params.data.inventoryItemId) {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Selection Error\",\n            detail:\n              \"You can only choose either a Service Item or an Inventory Item, not both.\",\n          });\n          return;\n        }\n        if (params.data.serviceItemId) {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Selection Error\",\n            detail: \"Service Item is already selected.\",\n          });\n          return;\n        }\n        this.openSelectItem(\"ServiceItem\");\n        break;\n\n      case \"InventoryItem\":\n        if (params.data.serviceItemId) {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Selection Error\",\n            detail:\n              \"You can only choose either a Service Item or an Inventory Item, not both.\",\n          });\n          return;\n        }\n        if (params.data.inventoryItemId) {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Selection Error\",\n            detail: \"Inventory Item is already selected.\",\n          });\n          return;\n        }\n        this.openSelectItem(\"InventoryItem\");\n        break;\n      case \"Location\":\n        debugger;\n        this.setParms = params;\n        this.openSelectItem(\"Location\");\n        break;\n      case \"VehicleVisitType\":\n        debugger;\n        this.setParms = params;\n        this.openSelectItem(\"VehicleVisitType\");\n        break;\n      case \"addProject\":\n        debugger;\n        this.setParms = params;\n        this.openSelectItem(\"Project\");\n        break;\n      default:\n        break;\n    }\n  }\n\n  openSelectItem(\n    target:\n      | \"ServiceItem\"\n      | \"InventoryItem\"\n      | \"Location\"\n      | \"VehicleVisitType\"\n      | \"Project\"\n  ) {\n    debugger;\n    const initialState: any = {\n      target: target,\n    };\n    this.suggestionModalRef = this.suggestionService.show(\n      SuggestionLookupTableModalComponent,\n      { initialState }\n    );\n\n    this.suggestionModalRef.content.saveSuggestion.subscribe((result) => {\n      debugger;\n      if (target == \"ServiceItem\") {\n        this.setParms.data.serviceItemId = result.id;\n        this.setParms.data.serviceItemName = result.name;\n        this.setParms.data.serialNumber = result.serialNumber;\n      } else if (target == \"InventoryItem\") {\n        this.setParms.data.inventoryItemId = result.id;\n        this.setParms.data.inventoryItemName = result.name;\n      } else if (target == \"Location\") {\n        this.setParms.data.locationId = +result.id;\n        this.setParms.data.locationName = result.name;\n      } else if (target == \"VehicleVisitType\") {\n        this.setParms.data.vehicleVisitTypeId = +result.id || 0;\n        this.setParms.data.vehicleVisitTypeName = result.name;\n      } else if (target == \"Project\") {\n        this.setParms.data.projectId = +result.id;\n        this.setParms.data.projectName = result.name;\n      }\n\n      this.gridApi.refreshCells();\n    });\n  }\n\n  openSelectUnit() {\n    debugger;\n    const initialState: any = {\n      target: \"Unit\",\n    };\n    this.suggestionModalRef = this.suggestionService.show(\n      SuggestionLookupTableModalComponent,\n      { initialState }\n    );\n\n    this.suggestionModalRef.content.saveSuggestion.subscribe((result) => {\n      debugger;\n      this.setParms.data.unitId = +result.id.split(\"/\")[0];\n      this.setParms.data.unitName = result.name;\n      this.gridApi.refreshCells();\n    });\n  }\n\n  AmountCalculations() {\n    debugger;\n    console.log(this.rowData);\n\n    let totalPurchaseAmount: number = 0;\n    let totalGstAmount: number = 0;\n    let totalPstAmount: number = 0;\n\n    // Loop through the grid rows to calculate the total amounts\n    this.gridApi.forEachNode((node) => {\n      // Use Number() and handle undefined/null values with fallback to 0\n      const totalAmount = Number(node.data.totalAmount) || 0;\n      const gstAmount = Number(node.data.gstAmount) || 0;\n      const pstAmount = Number(node.data.pstAmount) || 0;\n\n      totalPurchaseAmount += totalAmount;\n      totalGstAmount += gstAmount;\n      totalPstAmount += pstAmount;\n    });\n\n    debugger;\n\n    // Safely convert the totals and update serviceQuotationDto\n    this.serviceQuotationDto.grossAmount = totalPurchaseAmount;\n    this.serviceQuotationDto.gstAmount = totalGstAmount;\n    this.serviceQuotationDto.pstAmount = totalPstAmount;\n\n    // Calculate net total amount (purchase amount excluding GST and PST)\n    this.serviceQuotationDto.totalAmount =\n      totalPurchaseAmount + (totalGstAmount + totalPstAmount);\n  }\n\n  onRemoveSelected() {\n    const selectedNodes = this.gridApi.getSelectedNodes();\n    if (selectedNodes.length > 0) {\n      const dataToRemove = selectedNodes.map((node) => node.data);\n      this.gridApi.applyTransaction({ remove: dataToRemove });\n      debugger;\n      this.rowData = [];\n      this.gridApi.forEachNode((node) => this.rowData.push(node.data));\n      this.AmountCalculations();\n    }\n    this.addRow = this.gridApi.getDisplayedRowCount() === 0 ? false : true;\n  }\n\n  setPickerValue(value: any, title: string) {\n    debugger;\n    switch (title) {\n      case \"LocationTo\":\n        debugger;\n        this.serviceQuotationDto.toLocation = +value.id;\n        this.serviceQuotationDto.userLocationId = +value.id;\n        this.serviceQuotationDto.userLocationName = value.name;\n        this.GetDocMaxCount(\"ServiceQuotation\");\n        break;\n      case \"Supplier\":\n        debugger;\n        // this.serviceQuotationDto.toLocation = +value.id;\n        this.serviceQuotationDto.supplierId = +value.id;\n        this.serviceQuotationDto.supplierName = value.title;\n        this.serviceQuotationDto.supplierSerialNumber = value.serialNumber;\n        break;\n      case \"CostCenter\":\n        debugger;\n        this.serviceQuotationDto.costCenterId = +value.id;\n        this.serviceQuotationDto.costCenterName = value.name;\n        break;\n      // case \"Region\":\n      //   debugger;\n      //   this.serviceQuotationDto.regionId = value.id;\n      //   this.serviceQuotationDto.regionName = value.name;\n      //   break;\n      case \"Project\":\n        debugger;\n        this.serviceQuotationDto.projectId = +value.id;\n        this.serviceQuotationDto.projectName = value.name;\n        break;\n      case \"Site\":\n        debugger;\n        this.serviceQuotationDto.siteId = value.id;\n        this.serviceQuotationDto.siteName = value.name;\n        break;\n      case \"VoucherStatus\":\n        debugger;\n        this.serviceQuotationDto.voucherStatusId = +value.id;\n        this.serviceQuotationDto.voucherStatusName = value.name;\n        break;\n      case \"Employee\":\n        debugger;\n        this.serviceQuotationDto.employeeId = value.additional;\n        this.serviceQuotationDto.employeeErpId = value.id;\n        this.serviceQuotationDto.employeeName = value.name;\n        break;\n\n      default:\n        alert(`${title} is not defined`);\n    }\n  }\n\n  async getStockDetails(\n    itemId,\n    locationId,\n    costCenterId,\n    projectId\n  ): Promise<any> {\n    debugger;\n    return this._basicTypeService\n      .getStockDetails(itemId, locationId, costCenterId, projectId)\n      .pipe(\n        catchError((error) => {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.message,\n            life: 2000,\n          });\n          return throwError(error.message);\n        })\n      )\n      .toPromise();\n  }\n\n  async getItemBudget(\n    budgetDate: any,\n    costCenterId: number,\n    toLocation: number,\n    itemId: number,\n    projectId: number\n  ): Promise<any> {\n    debugger;\n    return this._basicTypeService\n      .getItemBudget(budgetDate, costCenterId, toLocation, itemId, projectId)\n      .pipe(\n        catchError((error) => {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.message,\n            life: 2000,\n          });\n          return throwError(error.message);\n        })\n      )\n      .toPromise();\n  }\n\n  async SelectItem(item: any) {\n    debugger;\n    const isItemAlreadyAdded = this.rowData.some(\n      (row) => row.itemId === item.id\n    );\n\n    if (isItemAlreadyAdded) {\n      this.messageService.add({\n        severity: \"error\",\n        summary: \"Error\",\n        detail: \"This item has already been added.\",\n        life: 2000,\n      });\n      return;\n    }\n    try {\n      const { fromLocation, costCenterId, projectId, budgetDate, toLocation } =\n        this.serviceQuotationDto;\n      var fromStockDetails = await this.getStockDetails(\n        item.id,\n        this.serviceQuotationDto.fromLocation,\n        this.serviceQuotationDto.fromCostCenterId,\n        this.serviceQuotationDto.fromProjectId\n      );\n      var toStockDetails = await this.getStockDetails(\n        item.id,\n        this.serviceQuotationDto.toLocation,\n        this.serviceQuotationDto.costCenterId,\n        this.serviceQuotationDto.projectId\n      );\n      debugger;\n      var budget = await this.getItemBudget(\n        budgetDate,\n        costCenterId,\n        toLocation,\n        item.id,\n        projectId\n      );\n\n      debugger;\n      console.log(fromStockDetails);\n      console.log(toStockDetails);\n      this.setParms.data.itemId = item.id;\n      this.setParms.data.itemName = item.name;\n      this.setParms.data.unitId = item.additional.split(\"/\")[0];\n      this.setParms.data.unitName = item.additional.split(\"/\")[1];\n      this.setParms.data.monthlyBudgetAvailable = budget.availableBudget;\n      this.setParms.data.monthlyBudgetAmount = budget.monthlyBudget;\n      this.setParms.data.monthlyBudgetConsumed = budget.budgetConsumed;\n      this.setParms.data.chartOfAccountId =\n        budget.itemFinancialIntegration[0].chartOfAccountId;\n      this.setParms.data.chartOfAccountName =\n        budget.itemFinancialIntegration[0].name;\n      this.setParms.data.qtyInStockFromLoc = fromStockDetails.qtyInStock;\n      this.setParms.data.lastPurchaseRate = fromStockDetails.lastPurchaseRate;\n      this.setParms.data.qtyInStock = toStockDetails.qtyInStock;\n      this.setParms.data.lastPurchaseRate = toStockDetails.lastPurchaseRate;\n    } catch (error) {\n      console.error(\"Error fetching stock details\", error);\n    }\n    this.displayItem = false;\n    this.rowData.push(this.setParms.data);\n    this.gridApi.refreshCells();\n  }\n\n  // OnCellValueChanged(params) {\n  //   debugger;\n  //   if (!params.data.finalQty && params.data.acknowledgedClientQty) {\n  //     params.data.finalQty = params.data.acknowledgedClientQty;\n  //   }\n  //   if (params.data.finalQty < 0) {\n  //     params.data.finalQty = 0;\n  //     this.messageService.add({\n  //       severity: \"error\",\n  //       detail: \"Final Quantity cannot be negative.\",\n  //       life: 2000,\n  //     });\n  //   }\n  //   if (params.data.finalQty > params.data.offerQty) {\n  //     params.data.finalQty = 0;\n  //     this.messageService.add({\n  //       severity: \"error\",\n  //       detail: \"Final Quantity cannot be greater than Offer Quantity.\",\n\n  //       life: 2000,\n  //     });\n  //   }\n  //   if (params.data.finalQty && params.data.grossRate) {\n  //     params.data.totalAmount = Number(\n  //       params.data.finalQty * params.data.grossRate\n  //     );\n  //   }\n\n  //   params.data.gstAmount = Number(\n  //     (params.data.totalAmount * params.data.gstPercentage) / 100\n  //   );\n  //   params.data.pstAmount = Number(\n  //     (params.data.totalAmount * params.data.pstPercentage) / 100\n  //   );\n  //   // this.serviceQuotationDto.grossAmount = Number(params.data.totalAmount);\n  //   // this.serviceQuotationDto.pstAmount = Number(params.data.pstAmount);\n  //   // this.serviceQuotationDto.gstAmount = Number(params.data.gstAmount);\n\n  //   // this.serviceQuotationDto.totalAmount =\n  //   //   params.data.totalAmount + (params.data.pstAmount + params.data.gstAmount);\n\n  //   // Refresh grid and recalculate amounts\n  //   this.gridApi.refreshCells();\n  //   this.AmountCalculations();\n  // }\n\n  OnCellValueChanged(params) {\n    debugger;\n    if (params.data.acknowledgedClientQty > params.data.offerQty) {\n      params.data.acknowledgedClientQty = params.data.offerQty;\n      this.messageService.add({\n        severity: \"error\",\n        detail:\n          \"Acknowledged Client Quantity cannot be greater than Offer Quantity.\",\n        life: 2000,\n      });\n    }\n    if (params.data.finalQty > params.data.acknowledgedClientQty) {\n      params.data.finalQty = params.data.acknowledgedClientQty;\n      this.messageService.add({\n        severity: \"error\",\n        detail:\n          \"Final Quantity cannot be greater than Acknowledged Client Quantity.\",\n        life: 2000,\n      });\n    }\n    if (!params.data.finalQty && params.data.acknowledgedQty) {\n      params.data.finalQty = params.data.acknowledgedQty;\n    }\n    if (params.data.finalQty < 0) {\n      params.data.finalQty = 0;\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Final Quantity cannot be negative.\",\n        life: 2000,\n      });\n    }\n    if (params.data.finalQty > params.data.offerQty) {\n      params.data.finalQty = 0;\n      this.messageService.add({\n        severity: \"error\",\n        detail: \"Final Quantity cannot be greater than Offer Quantity.\",\n        life: 2000,\n      });\n    }\n    if (params.data.finalQty && params.data.grossRate) {\n      params.data.totalAmount = Number(\n        params.data.finalQty * params.data.grossRate\n      );\n    }\n    params.data.gstAmount = Number(\n      (params.data.totalAmount * params.data.gstPercentage) / 100\n    );\n    params.data.pstAmount = Number(\n      (params.data.totalAmount * params.data.pstPercentage) / 100\n    );\n    this.gridApi.refreshCells();\n    this.AmountCalculations();\n  }\n\n  GetDocMaxCount(target: string) {\n    debugger;\n    if (\n      this.serviceQuotationDto.userLocationId &&\n      this.serviceQuotationDto.issueDate\n    ) {\n      this._basicTypeService\n        .GetDocMaxCount(\n          target,\n          this.serviceQuotationDto.userLocationId,\n          this.serviceQuotationDto.issueDate\n        )\n        .pipe(\n          finalize(() => {}),\n          catchError((error) => {\n            this.messageService.add({\n              severity: \"error\",\n              summary: \"Error\",\n              detail: error.error.error.message,\n              life: 2000,\n            });\n            return throwError(error.error.error.message);\n          })\n        )\n        .subscribe({\n          next: (response) => {\n            debugger;\n            this.documentNumber = response;\n            this.MakeVoucher();\n          },\n        });\n    }\n  }\n\n  async getDefaultLocation(target: string, name: string, id: string, filterId) {\n    this._basicTypeService\n      .getDefaultLocation(target, filterId)\n      .pipe(\n        finalize(() => {}),\n        catchError((error) => {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n            life: 2000,\n          });\n          return throwError(error.error.error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          debugger;\n          this.serviceQuotationDto.userLocationName =\n            response.items[0].shortName;\n          this.serviceQuotationDto.userLocationId = response.items[0].id;\n          this.serviceQuotationDto.toLocationName = response.items[0].shortName;\n          this.serviceQuotationDto.toLocation = response.items[0].id;\n          this.GetDocMaxCount(\"ServiceQuotation\");\n        },\n      });\n  }\n\n  MakeVoucher() {\n    debugger;\n\n    if (this.serviceQuotationDto.userLocationId && this.documentNumber) {\n      this.serviceQuotationDto.voucherNumber =\n        \"OF-HNL\" +\n        \"-\" +\n        this.serviceQuotationDto.userLocationId +\n        \"-\" +\n        this.serviceQuotationDto.issueDate.getFullYear() +\n        \"-\" +\n        (this.serviceQuotationDto.issueDate.getMonth() + 1) +\n        \"-\" +\n        this.documentNumber;\n    } else {\n      this.GetDocMaxCount(\"ServiceQuotation\");\n    }\n  }\n  onPageChange(event: any) {\n    debugger;\n    this.filterDto.maxCount = event.rows;\n    this.currentPage = event.page + 1;\n    this.loading = true;\n    this.filterDto.skipCount = (this.currentPage - 1) * 5;\n    this._basicTypeService.getAll(this.target, this.filterDto).subscribe({\n      next: (response) => {\n        debugger;\n\n        this.tableData = response.items;\n        this.count = response.totalCount;\n\n        this.loading = false;\n      },\n    });\n  }\n  onEnter(event: any) {\n    const inputValue = (event.target as HTMLInputElement).value;\n    this.loading = true;\n    debugger;\n    this.filterDto.DocOrVocNumber = inputValue;\n    debugger;\n\n    this._basicTypeService.getAll(this.target, this.filterDto).subscribe({\n      next: (response) => {\n        debugger;\n\n        this.tableData = response.items;\n        this.count = response.totalCount;\n\n        this.loading = false;\n      },\n    });\n  }\n  onGlobalFilter(table: Table, event: Event) {\n    table.filterGlobal((event.target as HTMLInputElement).value, \"contains\");\n  }\n  VoucherRestriction(prefix: string) {\n    this._restrictionService\n      .getVoucherRestriction(prefix)\n      .pipe(\n        finalize(() => {}),\n        catchError((error) => {\n          this.messageService.add({\n            severity: \"error\",\n            summary: \"Error\",\n            detail: error.error.error.message,\n          });\n          return throwError(error.error.error.message);\n        })\n      )\n      .subscribe({\n        next: (response) => {\n          console.log(response);\n          debugger;\n          this.restrictionDto = mapRestrictionDto(response.items[0]);\n          console.log(this.restrictionDto);\n        },\n      });\n  }\n}\n","<p-toolbar styleClass=\"mb-4\">\n  <ng-template pTemplate=\"left\">\n    <h3>Offer / Performa Invoice</h3>\n  </ng-template>\n  <ng-template pTemplate=\"right\">\n    <div class=\"p-toolbar-group-left\">\n      <span class=\"p-toolbar-separator\" style=\"margin-right: 10px\"></span>\n      <span\n        pButton\n        style=\"height: 25px; width: 25px; cursor: pointer\"\n        icon=\"pi pi-plus-circle\"\n        class=\"p-button-success\"\n        (click)=\"show()\"\n      ></span>\n    </div>\n    <span class=\"block md:mt-0 p-input-icon-left\">\n      <i class=\"pi pi-search\"></i>\n      <input\n        pInputText\n        type=\"text\"\n        (input)=\"onGlobalFilter(policyTable, $event)\"\n        placeholder=\"Search...\"\n        (keydown.enter)=\"onEnter($event)\"\n        style=\"height: 25px; cursor: pointer\"\n      />\n    </span>\n    <!-- <div class=\"p-toolbar-group-left\">\n        <span class=\"p-toolbar-separator\" style=\"margin-right: 10px\"></span>\n        <p-button label=\"Tracing\" class=\"p-button-success\" (click)=\"openTracingComponent()\"></p-button>\n      </div> -->\n  </ng-template>\n</p-toolbar>\n\n<!-- Table -->\n<div class=\"card p-4\">\n  <p-table\n    #policyTable\n    [value]=\"tableData\"\n    styleClass=\"p-datatable-gridlines\"\n    [rowHover]=\"true\"\n    [paginatorDropdownAppendTo]=\"'body'\"\n    dataKey=\"id\"\n    [loading]=\"loading\"\n    scrollHeight=\"58vh\"\n    responsiveLayout=\"scroll\"\n    [style]=\"{ width: '100%', 'overflow-y': 'auto' }\"\n    [globalFilterFields]=\"[\n      'userLocationName',\n      'voucherNumber',\n      'supplierName',\n      'issueDate',\n      'status'\n    ]\"\n  >\n    <ng-template pTemplate=\"header\">\n      <tr>\n        <th style=\"min-width: 200px\" pSortableColumn=\"Actions\">\n          Actions <p-sortIcon field=\"Actions\" />\n        </th>\n        <th style=\"min-width: 200px\" pSortableColumn=\"voucher\">\n          Voucher <p-sortIcon field=\"voucher\" />\n        </th>\n        <th style=\"min-width: 200px\" pSortableColumn=\"type\">\n          Location <p-sortIcon field=\"type\" />\n        </th>\n        <!-- <th style=\"min-width: 200px\" pSortableColumn=\"Active\">\n          Transfer Status <p-sortIcon field=\"Active\" />\n        </th>\n        <th style=\"min-width: 200px\" pSortableColumn=\"Active\">\n          Purchase Status <p-sortIcon field=\"Active\" />\n        </th> -->\n        <th style=\"min-width: 200px\" pSortableColumn=\"status\">\n          Linked Status <p-sortIcon field=\"status\" />\n        </th>\n        <th style=\"min-width: 200px\" pSortableColumn=\"Active\">\n          Document Status <p-sortIcon field=\"Active\" />\n        </th>\n      </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-item>\n      <tr>\n        <td>\n          <span\n            *ngIf=\"item.status == 'APPROVED'\"\n            style=\"height: 25px; width: 25px; cursor: pointer\"\n            pButton\n            pRipple\n            icon=\"pi pi-eye\"\n            class=\"p-button-rounded p-button-info mr-2\"\n            (click)=\"viewOnly(item.id)\"\n          ></span>\n          <span\n            *ngIf=\"item.status !== 'APPROVED'\"\n            style=\"height: 25px; width: 25px; cursor: pointer\"\n            pButton\n            pRipple\n            icon=\"pi pi-pencil\"\n            class=\"p-button-rounded p-button-info mr-2\"\n            (click)=\"edit(item.id)\"\n          ></span>\n          <span\n            *ngIf=\"item.status !== 'APPROVED'\"\n            style=\"height: 25px; width: 25px; cursor: pointer\"\n            pButton\n            pRipple\n            icon=\"pi pi-trash\"\n            class=\"p-button-rounded p-button-warning mr-2\"\n            (click)=\"delete(item.id)\"\n          ></span>\n          <span\n            pButton\n            pRipple\n            *ngIf=\"item.status === 'PENDING' || item.status == 'UNAPPROVED'\"\n            style=\"height: 25px; width: 25px; cursor: pointer\"\n            icon=\"pi pi-check\"\n            class=\"p-button-rounded p-button-warning mr-2\"\n            (click)=\"approve(item.id)\"\n          ></span>\n        </td>\n        <td>{{ item.voucherNumber }}</td>\n        <td>{{ item.userLocationName }}</td>\n\n        <!-- <td>\n          <span\n            [ngClass]=\"{\n              'yes-bg': item.transferStatus === 'COMPLETED',\n              'no-bg': item.transferStatus === 'PENDING'\n            }\"\n            [style]=\"{ height: '25px', cursor: 'pointer' }\"\n          >\n            {{ item.transferStatus }}\n          </span>\n        </td>\n        <td>\n          <span\n            [ngClass]=\"{\n              'yes-bg': item.purchaseStatus === 'COMPLETED',\n              'no-bg': item.purchaseStatus === 'PENDING'\n            }\"\n            [style]=\"{ height: '25px', cursor: 'pointer' }\"\n          >\n            {{ item.purchaseStatus }}\n          </span>\n        </td> -->\n        <td>\n          <span\n            *ngIf=\"item.linkedStatus == 'COMPLETED'\"\n            class=\"yes-bg\"\n            style=\"height: 25px; cursor: pointer\"\n            >{{ item.linkedStatus }}</span\n          >\n          <span *ngIf=\"item.linkedStatus != 'COMPLETED'\" class=\"no-bg\">{{\n            item.linkedStatus\n          }}</span>\n        </td>\n        <td>\n          <span\n            *ngIf=\"item.status == 'APPROVED'\"\n            class=\"yes-bg\"\n            style=\"height: 25px; cursor: pointer\"\n            >{{ item.status }}</span\n          >\n          <span *ngIf=\"item.status == 'PENDING'\" class=\"no-bg\">{{\n            item.status\n          }}</span>\n        </td>\n      </tr>\n    </ng-template>\n  </p-table>\n  <p-paginator\n    [rows]=\"5\"\n    [totalRecords]=\"this.count\"\n    (onPageChange)=\"this.onPageChange($event)\"\n    currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\"\n    [showCurrentPageReport]=\"true\"\n    [rowsPerPageOptions]=\"[this.count, 5, 20, 100]\"\n  >\n  </p-paginator>\n</div>\n<!-- Modal -->\n<p-dialog\n  [maximizable]=\"true\"\n  [closeOnEscape]=\"false\"\n  [header]=\"\n    editMode\n      ? 'Edit Offer / Performa Invoice'\n      : 'Create Offer / Performa Invoice'\n  \"\n  [modal]=\"true\"\n  [(visible)]=\"displayModal\"\n  [draggable]=\"false\"\n>\n  <p-tabView class=\"custom-tabview\">\n    <p-tabPanel header=\"Offer / Performa Invoice\">\n      <div class=\"row col-md-12 flex mt-3\">\n        <div class=\"border col-md-6\">\n          <div class=\"row p-2\">\n            <div class=\"row col-md-12\">\n              <div class=\"p-field col-md-3\">\n                <label for=\"date\">Document Date</label>\n                <p-calendar\n                  (ngModelChange)=\"onDateChange($event)\"\n                  [(ngModel)]=\"serviceQuotationDto.issueDate\"\n                  inputId=\"date\"\n                  appendTo=\"body\"\n                  tabindex=\"1\"\n                  [minDate]=\"MinDate\"\n                  [maxDate]=\"today\"\n                  [showOnFocus]=\"true\"\n                ></p-calendar>\n              </div>\n            </div>\n\n            <div class=\"row col-md-12 flex\">\n              <div id=\"inputField\" class=\"p-field col-md-12\">\n                <app-picker\n                  [disable]=\"editMode || addRow\"\n                  title2=\"Location\"\n                  [title]=\"'User Location'\"\n                  [id]=\"serviceQuotationDto.userLocationId\"\n                  [name]=\"serviceQuotationDto.userLocationName\"\n                  (valueSelected)=\"setPickerValue($event, 'LocationTo')\"\n                ></app-picker>\n              </div>\n            </div>\n\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"p-field col-md-12\">\n                <app-picker\n                  [title2]=\"'Subledger'\"\n                  [title]=\"'Client'\"\n                  [id]=\"this.serviceQuotationDto.supplierSerialNumber\"\n                  [name]=\"this.serviceQuotationDto.supplierName\"\n                  [chartOfAccountSubLedgerType]=\"'3,4'\"\n                  (valueSelected)=\"setPickerValue($event, 'Supplier')\"\n                ></app-picker>\n              </div>\n            </div>\n\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"p-field col-md-12\">\n                <app-picker\n                  [disable]=\"editMode || addRow\"\n                  title2=\"Employee\"\n                  [title]=\"'Employee'\"\n                  [id]=\"this.serviceQuotationDto.employeeErpId\"\n                  [name]=\"this.serviceQuotationDto.employeeName\"\n                  (valueSelected)=\"setPickerValue($event, 'Employee')\"\n                ></app-picker>\n              </div>\n            </div>\n\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"col-md-6 p-field flex flex-column\">\n                <label for=\"name\">Voucher Number</label>\n                <input\n                  readonly\n                  id=\"name\"\n                  type=\"text\"\n                  pInputText\n                  [(ngModel)]=\"serviceQuotationDto.voucherNumber\"\n                />\n              </div>\n              <div id=\"inputField\" class=\"col-md-4 p-field flex flex-column\">\n                <label for=\"name\">Business Month</label>\n                <p-calendar\n                  [disabled]=\"editMode\"\n                  view=\"month\"\n                  dateFormat=\"mm/yy\"\n                  [(ngModel)]=\"serviceQuotationDto.businessMonth\"\n                  inputId=\"businessMonth\"\n                  appendTo=\"body\"\n                ></p-calendar>\n              </div>\n              <!-- <div class=\"flex gap-2 align-items-center\">\n                    <p-checkbox inputId=\"isActive\" [(ngModel)]=\"serviceQuotationDto.isActive\" [binary]=\"true\"\n                        inputId=\"binary\" />\n                    <label for=\"isActive\">Active</label>\n                </div> -->\n            </div>\n          </div>\n        </div>\n\n        <div class=\"border col-md-6\">\n          <div class=\"row p-2\">\n            <div class=\"row col-md-12\">\n              <div class=\"p-field col-md-6\">\n                <label for=\"date\">Invoice Submission Date</label>\n                <p-calendar\n                  [(ngModel)]=\"serviceQuotationDto.invoiceSubmissionDate\"\n                  inputId=\"date\"\n                  appendTo=\"body\"\n                  tabindex=\"1\"\n                  [maxDate]=\"maxDate\"\n                  [showOnFocus]=\"true\"\n                ></p-calendar>\n              </div>\n              <div id=\"inputField\" class=\"col-md-6\">\n                <label for=\"indentNumber\" class=\"form-label\"\n                  >Indent Number</label\n                >\n                <input\n                  id=\"indentNumber\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  [(ngModel)]=\"this.serviceQuotationDto.indentNumber\"\n                  class=\"form-control\"\n                />\n              </div>\n            </div>\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"col-md-6\">\n                <label for=\"attentionPerson\" class=\"form-label\"\n                  >Attention Person</label\n                >\n                <input\n                  id=\"attentionPerson\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  [(ngModel)]=\"this.serviceQuotationDto.attentionPerson\"\n                  class=\"form-control\"\n                />\n              </div>\n              <div id=\"inputField\" class=\"col-md-6\">\n                <label for=\"designation\" class=\"form-label\">Designation</label>\n                <input\n                  id=\"designation\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  [(ngModel)]=\"this.serviceQuotationDto.designation\"\n                  class=\"form-control\"\n                />\n              </div>\n            </div>\n            <div class=\"row col-md-12\">\n              <div id=\"inputField\" class=\"col-md-4\">\n                <label for=\"referenceNumber\" class=\"form-label\"\n                  >Reference Number</label\n                >\n                <input\n                  id=\"referenceNumber\"\n                  [disabled]=\"editMode\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  [(ngModel)]=\"this.serviceQuotationDto.referenceNumber\"\n                  class=\"form-control\"\n                />\n              </div>\n              <div id=\"inputField\" class=\"col-md-4\">\n                <label for=\"narration\" class=\"form-label\">Narration</label>\n                <input\n                  id=\"narration\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  [(ngModel)]=\"serviceQuotationDto.remarks\"\n                  class=\"form-control\"\n                />\n              </div>\n              <div id=\"inputField\" class=\"col-md-4\">\n                <label for=\"narration\" class=\"form-label\">Site ID:</label>\n                <input\n                  id=\"siteId\"\n                  required\n                  type=\"text\"\n                  pInputText\n                  [(ngModel)]=\"serviceQuotationDto.siteId\"\n                  class=\"form-control\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <br />\n\n      <!-- Grid -->\n      <div class=\"my-4\">\n        <p-button (click)=\"onAddRow()\" label=\"Add Row\" size=\"small\" />\n        <p-button\n          (click)=\"onRemoveSelected()\"\n          label=\"Remove Row\"\n          size=\"small\"\n          severity=\"danger\"\n        />\n        <div class=\"row col-md-12\">\n          <ag-grid-angular\n            style=\"width: 100%; height: 200px; margin-top: 12px\"\n            class=\"ag-theme-balham\"\n            [rowData]=\"rowData\"\n            [columnDefs]=\"colDefs\"\n            [animateRows]=\"true\"\n            [suppressAutoSize]=\"true\"\n            [suppressDragLeaveHidesColumns]=\"true\"\n            [rowSelection]=\"rowSelection\"\n            [singleClickEdit]=\"true\"\n            (gridReady)=\"onGridReady($event)\"\n            (cellClicked)=\"cellClicked($event)\"\n            (cellValueChanged)=\"OnCellValueChanged($event)\"\n          >\n          </ag-grid-angular>\n        </div>\n      </div>\n\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"col-md-3 flex flex-column\">\n          <label for=\"grossAmount\" class=\"form-label\">Gross Amount</label>\n          <p-inputNumber\n            useGrouping=\"false\"\n            [readonly]=\"true\"\n            aria-readonly=\"true\"\n            id=\"grossAmount\"\n            [(ngModel)]=\"serviceQuotationDto.grossAmount\"\n            type=\"text\"\n            [min]=\"0\"\n          />\n        </div>\n        <div id=\"inputField\" class=\"col-md-3 flex flex-column\">\n          <label for=\"gstAmount\" class=\"form-label\">GST Amount</label>\n          <p-inputNumber\n            useGrouping=\"false\"\n            aria-readonly=\"true\"\n            [readonly]=\"true\"\n            id=\"gstAmount\"\n            [(ngModel)]=\"serviceQuotationDto.gstAmount\"\n            type=\"text\"\n            [min]=\"0\"\n          />\n        </div>\n        <div id=\"inputField\" class=\"col-md-3 flex flex-column\">\n          <label for=\"pstAmount\" class=\"form-label\">PST Amount</label>\n          <p-inputNumber\n            useGrouping=\"false\"\n            aria-readonly=\"true\"\n            [readonly]=\"true\"\n            id=\"pstAmount\"\n            [(ngModel)]=\"serviceQuotationDto.pstAmount\"\n            type=\"text\"\n            [min]=\"0\"\n          />\n        </div>\n        <div id=\"inputField\" class=\"col-md-3 flex flex-column\">\n          <label for=\"totalAmount\" class=\"form-label\">Total Amount</label>\n          <p-inputNumber\n            useGrouping=\"false\"\n            id=\"totalAmount\"\n            [readonly]=\"true\"\n            [(ngModel)]=\"serviceQuotationDto.totalAmount\"\n            type=\"text\"\n            aria-readonly=\"true\"\n            [min]=\"0\"\n          />\n        </div>\n      </div>\n    </p-tabPanel>\n    <p-tabPanel header=\"Other Details\">\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"p-field col-md-6\">\n          <app-picker\n            [title]=\"'CostCenter'\"\n            [id]=\"serviceQuotationDto.costCenterId\"\n            [name]=\"serviceQuotationDto.costCenterName\"\n            (valueSelected)=\"setPickerValue($event, 'CostCenter')\"\n          ></app-picker>\n        </div>\n        <!-- <div id=\"inputField\" class=\"p-field col-md-6\">\n          <app-picker\n            [title]=\"'Region'\"\n            [id]=\"serviceQuotationDto.regionId\"\n            [name]=\"serviceQuotationDto.regionName\"\n            (valueSelected)=\"setPickerValue($event, 'Region')\"\n          ></app-picker>\n        </div> -->\n      </div>\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"p-field col-md-6\">\n          <app-picker\n            [title]=\"'Project'\"\n            [id]=\"serviceQuotationDto.projectId\"\n            [name]=\"serviceQuotationDto.projectName\"\n            (valueSelected)=\"setPickerValue($event, 'Project')\"\n          ></app-picker>\n        </div>\n        <div id=\"inputField\" class=\"p-field col-md-6\">\n          <app-picker\n            [title]=\"'Site'\"\n            [id]=\"serviceQuotationDto.siteId\"\n            [name]=\"serviceQuotationDto.siteName\"\n            (valueSelected)=\"setPickerValue($event, 'Site')\"\n          ></app-picker>\n        </div>\n      </div>\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"col-md-12\">\n          <label for=\"narration\" class=\"form-label\">Subject</label>\n          <input\n            id=\"subject\"\n            required\n            type=\"text\"\n            pInputText\n            [(ngModel)]=\"serviceQuotationDto.subject\"\n            class=\"form-control\"\n          />\n        </div>\n      </div>\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"col-md-12\">\n          <label for=\"narration\" class=\"form-label\">Terms</label>\n          <input\n            id=\"terms\"\n            required\n            type=\"text\"\n            pInputText\n            [(ngModel)]=\"serviceQuotationDto.terms\"\n            class=\"form-control\"\n          />\n        </div>\n      </div>\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"col-md-12\">\n          <label for=\"narration\" class=\"form-label\">Origin</label>\n          <input\n            id=\"origin\"\n            required\n            type=\"text\"\n            pInputText\n            [(ngModel)]=\"serviceQuotationDto.origin\"\n            class=\"form-control\"\n          />\n        </div>\n      </div>\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"col-md-12\">\n          <label for=\"narration\" class=\"form-label\">Validity</label>\n          <input\n            id=\"validity\"\n            required\n            type=\"text\"\n            pInputText\n            [(ngModel)]=\"serviceQuotationDto.validity\"\n            class=\"form-control\"\n          />\n        </div>\n      </div>\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"col-md-12\">\n          <label for=\"narration\" class=\"form-label\">Starting Comments</label>\n          <input\n            id=\"comments\"\n            required\n            type=\"text\"\n            pInputText\n            [(ngModel)]=\"serviceQuotationDto.startingComments\"\n            class=\"form-control\"\n          />\n        </div>\n      </div>\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"col-md-12\">\n          <label for=\"narration\" class=\"form-label\">Paragraph</label>\n          <input\n            id=\"paragraph\"\n            required\n            type=\"text\"\n            pInputText\n            [(ngModel)]=\"serviceQuotationDto.paragraph\"\n            class=\"form-control\"\n          />\n        </div>\n      </div>\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"col-md-12\">\n          <label for=\"narration\" class=\"form-label\">End Narration</label>\n          <input\n            id=\"endNarration\"\n            required\n            type=\"text\"\n            pInputText\n            [(ngModel)]=\"serviceQuotationDto.endingComments\"\n            class=\"form-control\"\n          />\n        </div>\n      </div>\n      <br />\n      <div class=\"row col-md-12\">\n        <div id=\"inputField\" class=\"p-field col-md-6\">\n          <app-picker\n            [title]=\"'VoucherStatus'\"\n            [id]=\"serviceQuotationDto.voucherStatusId\"\n            [name]=\"serviceQuotationDto.voucherStatusName\"\n            (valueSelected)=\"setPickerValue($event, 'VoucherStatus')\"\n          ></app-picker>\n        </div>\n        <div id=\"inputField\" class=\"col-md-6\">\n          <label for=\"narration\" class=\"form-label\"\n            >Voucher Status Remarks</label\n          >\n          <input\n            id=\"endNarration\"\n            required\n            type=\"text\"\n            pInputText\n            [(ngModel)]=\"serviceQuotationDto.remarks\"\n            class=\"form-control\"\n          />\n        </div>\n      </div>\n    </p-tabPanel>\n  </p-tabView>\n\n  <div class=\"flex col-md-2 gap-2 align-items-center\">\n    <p-checkbox\n      inputId=\"isConfirmed\"\n      [binary]=\"true\"\n      [(ngModel)]=\"serviceQuotationDto.isConfirmed\"\n    />\n    <label for=\"isConfirmed\">isConfirmed</label>\n  </div>\n  <!-- </div> -->\n\n  <p-dialog\n    [closeOnEscape]=\"false\"\n    [maximizable]=\"true\"\n    header=\"Linkind Item\"\n    [modal]=\"true\"\n    [(visible)]=\"displayItem\"\n    [draggable]=\"false\"\n  >\n    <div class=\"p-4\">\n      <p-table\n        #requisitionTable\n        [paginator]=\"true\"\n        [rows]=\"5\"\n        [rowsPerPageOptions]=\"[5, 10, 20]\"\n        [value]=\"itemData\"\n        styleClass=\"p-datatable-gridlines\"\n        [rowHover]=\"true\"\n        [paginatorDropdownAppendTo]=\"'body'\"\n        dataKey=\"id\"\n        responsiveLayout=\"scroll\"\n        [style]=\"{ width: '100%', 'overflow-y': 'auto' }\"\n      >\n        <ng-template pTemplate=\"header\">\n          <tr>\n            <th style=\"min-width: 200px\" pSortableColumn=\"namvouchere\">\n              Item Id <p-sortIcon field=\"voucher\" />\n            </th>\n            <th style=\"min-width: 200px\" pSortableColumn=\"date\">\n              Item Title <p-sortIcon field=\"date\" />\n            </th>\n            <th style=\"min-width: 200px\" pSortableColumn=\"Actions\">\n              Actions <p-sortIcon field=\"Actions\" />\n            </th>\n          </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-item>\n          <tr>\n            <td>{{ item.id }}</td>\n            <td>{{ item.name }}</td>\n\n            <td>\n              <button\n                (click)=\"SelectItem(item)\"\n                pButton\n                pRipple\n                label=\"Select\"\n                class=\"p-button-rounded p-button-info mr-2\"\n              ></button>\n            </td>\n          </tr>\n        </ng-template>\n      </p-table>\n    </div>\n  </p-dialog>\n\n  <div class=\"flex gap-1 justify-content-end mt-4\">\n    <p-button\n      (onClick)=\"CloseModel()\"\n      label=\"Cancel\"\n      [outlined]=\"true\"\n      severity=\"warning\"\n    />\n    <p-button\n      [loading]=\"saving\"\n      *ngIf=\"!editMode && !view\"\n      (click)=\"save()\"\n      label=\"Save\"\n      [outlined]=\"true\"\n      severity=\"contrast\"\n    />\n    <p-button\n      [loading]=\"saving\"\n      *ngIf=\"editMode && !view\"\n      (click)=\"update()\"\n      label=\"Update\"\n      [outlined]=\"true\"\n      severity=\"contrast\"\n    />\n  </div>\n</p-dialog>\n<div>\n  <p-toast />\n  <p-confirmDialog />\n</div>\n","import { Component, Injector } from \"@angular/core\";\nimport { LookupComponent } from \"@app/main/generics/components/lookup/lookup.component\";\nimport { MessageService } from \"primeng/api\";\n\n@Component({\n  selector: \"app-sales-tax-type\",\n  templateUrl: \"./sales-tax-type.component.html\",\n})\nexport class SalesTaxTypeComponent extends LookupComponent {\n  dto = {\n    id: 0,\n    name: null,\n    isActive: true,\n  };\n  validateFromParent = true;\n  constructor(injector: Injector, private msgService: MessageService) {\n    super(injector);\n  }\n\n  validateLocation() {\n    if (this.dto.name == \"\" || this.dto.name == null) {\n      this.msgService.add({\n        severity: \"error\",\n        summary: \"Validation Error\",\n        detail: \"Please fill the Name field\",\n      });\n      return;\n    }\n    this.validateFromParent = false;\n    this.createOrEditAfterValidation(this.dto, \"SalesTaxType \");\n  }\n}\n","<app-lookup action=\"SalesTaxType\" [mainDto]=\"dto\" [excludedColumns]=\"[]\" [validateFromParent]=\"validateFromParent\"\n    (validateFunction)=\"validateLocation()\">\n    <ng-template #dialogView>\n        <div class=\"row col-md-12\">\n            <div class=\"col-md-12 flex flex-column\">\n                <label for=\"name\">Name:</label>\n                <input type=\"text\" pInputText [(ngModel)]=\"dto.name\" id=\"name\" autocomplete=\"off\" />\n            </div>            \n        </div>\n        <div class=\"row col-md-12 mt-3\">\n            <div class=\"flex align-items-center gap-2\">\n                <p-checkbox [(ngModel)]=\"dto.isActive\" [binary]=\"true\" inputId=\"active\" />\n                <label for=\"active\" class=\"mb-0\">Active</label>\n            </div>\n        </div>\n    </ng-template>\n</app-lookup>\n<div>\n    <p-toast />\n    <p-confirmDialog />\n</div>","import { Component, Injector } from \"@angular/core\";\nimport { LookupComponent } from \"@app/main/generics/components/lookup/lookup.component\";\nimport { MessageService } from \"primeng/api\";\n\n@Component({\n  selector: \"app-voucher-status\",\n  templateUrl: \"./voucher-status.component.html\",\n})\nexport class VoucherStatusComponent extends LookupComponent {\n  dto = {\n    id: 0,\n    name: null,\n    isActive: true,\n  };\n  validateFromParent = true;\n  constructor(injector: Injector, private msgService: MessageService) {\n    super(injector);\n  }\n\n  validateLocation() {\n    if (this.dto.name == \"\" || this.dto.name == null) {\n      this.msgService.add({\n        severity: \"error\",\n        summary: \"Validation Error\",\n        detail: \"Please fill the Name field\",\n      });\n      return;\n    }\n    this.validateFromParent = false;\n    this.createOrEditAfterValidation(this.dto, \"VoucherStatus\");\n  }\n}\n","<app-lookup action=\"VoucherStatus\" [mainDto]=\"dto\" [excludedColumns]=\"[]\" [validateFromParent]=\"validateFromParent\"\n    (validateFunction)=\"validateLocation()\">\n    <ng-template #dialogView>\n        <div class=\"row col-md-12\">\n            <div class=\"col-md-12 flex flex-column\">\n                <label for=\"name\">Name:</label>\n                <input type=\"text\" pInputText [(ngModel)]=\"dto.name\" id=\"name\" autocomplete=\"off\" />\n            </div>            \n        </div>\n        <div class=\"row col-md-12 mt-3\">\n            <div class=\"flex align-items-center gap-2\">\n                <p-checkbox [(ngModel)]=\"dto.isActive\" [binary]=\"true\" inputId=\"active\" />\n                <label for=\"active\" class=\"mb-0\">Active</label>\n            </div>\n        </div>\n    </ng-template>\n</app-lookup>\n<div>\n    <p-toast />\n    <p-confirmDialog />\n</div>","import { Injectable } from \"@angular/core\";\nimport * as moment from \"moment\";\nimport { Observable, map } from \"rxjs\";\nimport { newBaseUrl } from \"@shared/AppBaseURL/appBaseURL\";\nimport { HttpClient, HttpParams } from \"@angular/common/http\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class CommercialService {\n  constructor(private http: HttpClient) {}\n  commonUrl: string = \"api/services/app/\";\n  baseUrl: string = newBaseUrl + this.commonUrl;\n\n  url: string = \"\";\n  url_: string = \"\";\n\n  getAll(\n    target: string,\n    IsDropdown?: boolean,\n    skipCount?: number,\n    max?: number\n  ) {\n    this.url = this.baseUrl;\n\n    this.url += target + \"/GetAll\";\n    debugger;\n\n    if (IsDropdown) {\n      this.url = this.url + \"?IsDropdown=true\";\n    }\n    return this.http.get(this.url).pipe(\n      map((response: any) => {\n        console.log(response);\n        return response[\"result\"];\n      })\n    );\n  }\n\n  create(dto: any, target: string) {\n    debugger;\n    console.log(dto);\n    this.url = this.baseUrl;\n    this.url += target + \"/Create\";\n    debugger;\n    return this.http.post(this.url, dto);\n  }\n\n  delete(id: number, target: string) {\n    this.url = this.baseUrl;\n    this.url += target + \"/Delete?Id=\" + id;\n    return this.http.delete(this.url);\n  }\n\n  approve(id: number, target: string) {\n    this.url = this.baseUrl;\n    this.url += target + \"/ApproveDocument?Id=\" + id;\n    return this.http.post(this.url, {});\n  }\n\n  getDataForEdit(id: number, target: string) {\n    debugger;\n    this.url = this.baseUrl;\n    this.url += target + \"/GetForEdit?Id=\" + id;\n    return this.http.get(this.url).pipe(\n      map((response: any) => {\n        return response[\"result\"];\n      })\n    );\n  }\n\n  getData(id: number, target: string) {\n    this.url = this.baseUrl;\n    this.url += target + \"/Get?Id=\" + id;\n    return this.http.get(this.url).pipe(\n      map((response: any) => {\n        return response[\"result\"];\n      })\n    );\n  }\n\n  update(dto: any, target: string) {\n    debugger;\n    console.log(dto);\n    this.url = this.baseUrl;\n    this.url += target + \"/Edit\";\n    return this.http.post(this.url, dto);\n  }\n  getSeviceQuotationInvoiceFilters(\n    target: string,\n    dateRange: string,\n    startDate: string,\n    endDate: string,\n    supplierId: number,\n    status: string,\n    IsDropdown?: boolean,\n    skipCount?: number,\n    max?: number\n  ) {\n    debugger;\n    this.url = `${this.baseUrl}${target}/GetAll`;\n\n    let queryParams: string[] = [];\n    if (dateRange) {\n      queryParams.push(`DateRange=${moment(dateRange).format(\"YYYY-MM-DD\")}`);\n    }\n    if (startDate) {\n      queryParams.push(`StartDate=${moment(startDate).format(\"YYYY-MM-DD\")}`);\n    }\n    if (endDate) {\n      queryParams.push(`EndDate=${moment(endDate).format(\"YYYY-MM-DD\")}`);\n    }\n    if (supplierId) {\n      queryParams.push(`SupplierId=${supplierId}`);\n    }\n    if (status) {\n      queryParams.push(`Status=${status}`);\n    }\n    if (IsDropdown) {\n      queryParams.push(`IsDropdown=true`);\n    }\n    if (skipCount !== undefined) {\n      queryParams.push(`SkipCount=${skipCount}`);\n    }\n    if (max !== undefined) {\n      queryParams.push(`Max=${max}`);\n    }\n    if (queryParams.length) {\n      this.url += `?${queryParams.join(\"&\")}`;\n    }\n    debugger;\n\n    return this.http.get(this.url).pipe(\n      map((response: any) => {\n        console.log(response);\n        return response[\"result\"];\n      })\n    );\n  }\n  updateSalexTaxInvoice(dto: any, target: string) {\n    debugger;\n    console.log(dto);\n    this.url = this.baseUrl;\n    this.url += target + \"/BulkUpdateSalesTaxDetails\";\n    debugger;\n    return this.http.post(this.url, dto);\n  }\n  getInvoiceNumber(target: string, salesTaxId: number, salesTaxDate: string) {\n    debugger;\n    this.url = `${this.baseUrl}${target}/GetSalesTaxInvoiceNumber`;\n\n    let queryParams: string[] = [];\n    if (salesTaxId) {\n      queryParams.push(`SalesTaxTypeId=${salesTaxId}`);\n    }\n    if (salesTaxDate) {\n      queryParams.push(\n        `SalesTaxApprovalDate=${moment(salesTaxDate).format(\"YYYY-MM-DD\")}`\n      );\n    }\n    if (queryParams.length) {\n      this.url += `?${queryParams.join(\"&\")}`;\n    }\n    debugger;\n\n    return this.http.get(this.url).pipe(\n      map((response: any) => {\n        console.log(response);\n        return response[\"result\"];\n      })\n    );\n  }\n}\n"],"names":["ServiceQuotation","RouterModule","VoucherStatusComponent","ServiceQuotationComponent","SalesTaxTypeComponent","SalesInvoiceComponent","ServiceQuotationFiltersComponent","routes","path","children","component","CommercialRoutingModule","_","_2","_3","forChild","imports","i1","exports","CommonModule","ButtonModule","DialogModule","TableModule","PaginatorModule","ToolbarModule","InputTextModule","CalendarModule","AgGridAngular","CheckboxModule","ConfirmDialogModule","ToastModule","TabViewModule","FormsModule","ReactiveFormsModule","MainModule","FloatLabelModule","RadioButtonModule","InputMaskModule","MultiSelectModule","MenuModule","BsDropdownModule","SharedModule","InputSwitchModule","CommercialModule","declarations","catchError","finalize","throwError","Validators","moment","RestrictionDto","mapRestrictionDto","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","SalesInvoiceComponent_ng_template_2_Template_span_click_2_listener","ɵɵrestoreView","_r2","ctx_r2","ɵɵnextContext","ɵɵresetView","show","SalesInvoiceComponent_ng_template_2_Template_input_input_5_listener","$event","policyTable_r4","ɵɵreference","onGlobalFilter","SalesInvoiceComponent_ng_template_2_Template_input_keydown_enter_5_listener","onEnter","SalesInvoiceComponent_ng_template_7_span_2_Template_span_click_0_listener","_r5","item_r6","$implicit","viewOnly","id","SalesInvoiceComponent_ng_template_7_span_3_Template_span_click_0_listener","_r7","edit","SalesInvoiceComponent_ng_template_7_span_4_Template_span_click_0_listener","_r8","delete","SalesInvoiceComponent_ng_template_7_span_5_Template_span_click_0_listener","_r9","approve","ɵɵadvance","ɵɵtextInterpolate","status","ɵɵtemplate","SalesInvoiceComponent_ng_template_7_span_2_Template","SalesInvoiceComponent_ng_template_7_span_3_Template","SalesInvoiceComponent_ng_template_7_span_4_Template","SalesInvoiceComponent_ng_template_7_span_5_Template","SalesInvoiceComponent_ng_template_7_span_14_Template","SalesInvoiceComponent_ng_template_7_span_15_Template","ɵɵproperty","voucherNumber","ɵɵpipeBind1","issueDate","supplierName","SalesInvoiceComponent_div_88_Template_app_picker_valueSelected_1_listener","_r10","setPickerValue","salesInoviceForm","value","pstChartOfAccountSerialNumber","pstChartOfAccountName","SalesInvoiceComponent_p_button_112_Template_p_button_click_0_listener","_r11","create","saving","SalesInvoiceComponent_p_button_113_Template_p_button_click_0_listener","_r12","update","SalesInvoiceComponent_ng_template_119_Template_button_click_9_listener","item_r14","_r13","SelectServiceQuotation","ɵɵpipeBind2","constructor","fb","_financeModuleService","_restrictionService","messageService","suggestionService","confirmationService","restrictionDto","today","Date","MinDate","currentPage","dto","skipCount","maxCount","DocOrVocNumber","target","colDefs","headerName","editable","field","sortable","width","valueGetter","suppressSizeToFit","resizable","cellEditor","valueFormatter","params","date","toISOString","split","valueParser","newValue","group","required","supplierId","supplierSerialNumber","employeeId","employeeName","employeeErpId","salesmanName","referenceNumber","attentionPerson","userLocationId","userLocationName","remarks","grossAmount","disabled","totalAmount","gstPercentage","gstAmount","pstPercentage","pstAmount","designation","invoiceSubmissionDate","businessMonth","costCenterId","costCenterName","projectId","projectName","voucherStatusId","voucherStatusName","pstChartOfAccountId","serviceQuotationInvoiceDetails","get","valueChanges","subscribe","disable","enable","ngOnInit","getAll","VoucherRestriction","getDataForEdit","pipe","error","add","severity","summary","detail","message","life","next","response","dataForEdit","patchValue","rowData","displaySaleInvoice","isCreationAllowed","creationRestrictionDate","getDefaultLocation","editMode","viewMode","reset","setValue","data","items","count","totalCount","confirm","header","icon","rejectButtonStyleClass","accept","tempArr","gridApi","forEachNode","node","index","rest","tempObj","serviceQuotationDetailId","push","length","updateData","onDateChange","getVoucherNumber","err","console","log","name","filterId","_this","_asyncToGenerator","shortName","title","serialNumber","additional","alert","onRemoveSelected","selectedNodes","getSelectedNodes","dataToRemove","map","filter","row","some","removeItem","generalLedgerId","setRowData","rowCount","getDisplayedRowCount","refreshCells","onGridReady","api","rowSelection","CloseModel","isEditAllowed","editRestrictionDate","OpenServiceInvoice","displayServiceQuotation","GetServiceQuotation","ServiceQuotationData","item","linkedStatus","subject","terms","origin","validity","startingComments","endingComments","paragraph","serviceQuotationDetails","format","calculateTotalAmount","isApprovalAllowed","OnCellValueChanged","total","gst","pst","forEach","gstPercent","pstPercent","netAmount","onGstPercentChange","onPstPercentChange","onPageChange","event","rows","page","loading","inputValue","table","filterGlobal","prefix","getVoucherRestriction","ɵɵdirectiveInject","FormBuilder","i2","FinanceModuleService","i3","RestrictionService","i4","MessageService","i5","BsModalService","ConfirmationService","selectors","decls","vars","consts","template","SalesInvoiceComponent_Template","rf","ctx","SalesInvoiceComponent_ng_template_1_Template","SalesInvoiceComponent_ng_template_2_Template","SalesInvoiceComponent_ng_template_6_Template","SalesInvoiceComponent_ng_template_7_Template","SalesInvoiceComponent_Template_p_paginator_onPageChange_8_listener","_r1","ɵɵtwoWayListener","SalesInvoiceComponent_Template_p_dialog_visibleChange_9_listener","ɵɵtwoWayBindingSet","SalesInvoiceComponent_Template_form_ngSubmit_10_listener","SalesInvoiceComponent_Template_p_calendar_ngModelChange_20_listener","SalesInvoiceComponent_Template_app_picker_valueSelected_22_listener","SalesInvoiceComponent_Template_p_button_click_30_listener","SalesInvoiceComponent_Template_app_picker_valueSelected_35_listener","SalesInvoiceComponent_Template_app_picker_valueSelected_38_listener","SalesInvoiceComponent_Template_p_button_click_65_listener","SalesInvoiceComponent_Template_ag_grid_angular_gridReady_66_listener","SalesInvoiceComponent_Template_ag_grid_angular_cellValueChanged_66_listener","SalesInvoiceComponent_Template_input_change_75_listener","SalesInvoiceComponent_Template_input_change_83_listener","SalesInvoiceComponent_div_88_Template","SalesInvoiceComponent_Template_app_picker_valueSelected_97_listener","SalesInvoiceComponent_Template_app_picker_valueSelected_100_listener","SalesInvoiceComponent_Template_app_picker_valueSelected_102_listener","SalesInvoiceComponent_Template_app_picker_valueSelected_105_listener","SalesInvoiceComponent_Template_p_button_onClick_111_listener","SalesInvoiceComponent_p_button_112_Template","SalesInvoiceComponent_p_button_113_Template","SalesInvoiceComponent_Template_p_dialog_visibleChange_114_listener","SalesInvoiceComponent_ng_template_118_Template","SalesInvoiceComponent_ng_template_119_Template","ɵɵstyleMap","ɵɵpureFunction0","_c0","_c1","ɵɵpureFunction1","_c2","ɵɵtwoWayProperty","siteId","siteName","_c3","SuggestionLookupTableModalComponent","commercialService","cellRenderer","addIconCellRendererFunc","isNaN","getTime","toLocaleDateString","year","month","day","parseFloat","cellEditorParams","inputId","appendTo","dateFormat","dateFormatter","dateParser","clientId","clientName","clientSerialNumber","getFullYear","String","getMonth","padStart","getDate","dateString","applyTransaction","remove","updatedRowData","cellClicked","column","setParms","openSelectItem","initialState","suggestionModalRef","content","saveSuggestion","result","salesTaxTypeId","salesTaxTypeName","generate","getSeviceQuotationInvoiceFilters","dateRange","startDate","endDate","complete","payload","updateSalexTaxInvoice","onRowDoubleClick","selectedRowData","salesTaxInvoiceNumber","salesTaxApprovalDate","obj","reject","cellValueChanged","colDef","getInvoiceNumber","force","CommercialService","viewQuery","ServiceQuotationFiltersComponent_Query","ServiceQuotationFiltersComponent_ng_template_1_Template","ServiceQuotationFiltersComponent_Template_app_picker_valueSelected_5_listener","ServiceQuotationFiltersComponent_Template_p_calendar_ngModelChange_10_listener","ServiceQuotationFiltersComponent_Template_p_calendar_ngModelChange_14_listener","to","ServiceQuotationFiltersComponent_Template_p_calendar_ngModelChange_18_listener","ServiceQuotationFiltersComponent_Template_p_calendar_ngModelChange_22_listener","ServiceQuotationFiltersComponent_Template_p_button_click_25_listener","ServiceQuotationFiltersComponent_Template_ag_grid_angular_gridReady_26_listener","ServiceQuotationFiltersComponent_Template_ag_grid_angular_cellClicked_26_listener","ServiceQuotationFiltersComponent_Template_ag_grid_angular_rowDoubleClicked_26_listener","ServiceQuotationFiltersComponent_Template_ag_grid_angular_cellValueChanged_26_listener","ServiceQuotationFiltersComponent_Template_p_radioButton_ngModelChange_28_listener","ServiceQuotationFiltersComponent_Template_p_radioButton_ngModelChange_32_listener","ServiceQuotationFiltersComponent_Template_p_radioButton_ngModelChange_36_listener","ServiceQuotationFiltersComponent_Template_p_button_click_40_listener","ServiceQuotationComponent_ng_template_2_Template_span_click_2_listener","ServiceQuotationComponent_ng_template_2_Template_input_input_5_listener","ServiceQuotationComponent_ng_template_2_Template_input_keydown_enter_5_listener","ServiceQuotationComponent_ng_template_7_span_2_Template_span_click_0_listener","ServiceQuotationComponent_ng_template_7_span_3_Template_span_click_0_listener","ServiceQuotationComponent_ng_template_7_span_4_Template_span_click_0_listener","ServiceQuotationComponent_ng_template_7_span_5_Template_span_click_0_listener","ServiceQuotationComponent_ng_template_7_span_2_Template","ServiceQuotationComponent_ng_template_7_span_3_Template","ServiceQuotationComponent_ng_template_7_span_4_Template","ServiceQuotationComponent_ng_template_7_span_5_Template","ServiceQuotationComponent_ng_template_7_span_11_Template","ServiceQuotationComponent_ng_template_7_span_12_Template","ServiceQuotationComponent_ng_template_7_span_14_Template","ServiceQuotationComponent_ng_template_7_span_15_Template","ServiceQuotationComponent_ng_template_155_Template_button_click_6_listener","item_r11","SelectItem","ServiceQuotationComponent_p_button_158_Template_p_button_click_0_listener","save","ServiceQuotationComponent_p_button_159_Template_p_button_click_0_listener","_basicTypeService","serviceQuotationDto","filterDto","maxDate","toString","budgetDate","fromLocation","toLocation","toLocationName","totalBudgetAmount","totalPurchaseAmount","totalSaleAmount","displayModal","view","addRow","isActive","locationName","ApproveDocument","validationOfReq","indentNumber","serviceItemId","inventoryItemId","referenceVoucherNumber","clientItemCode","clientItemTitle","offerQty","acknowledgedClientQty","finalQty","grossRate","locationId","engineMakeYear","engineRating","vehicleVisitTypeId","gensetHours","GetDocMaxCount","chartOfAccountId","chartOfAccountName","qtyInStockFromLoc","isValid","getAllRequisition","tableData","onAddRow","newItem","itemId","itemName","requestedQty","unitId","unitName","qtyInStock","serviceItemName","inventoryItemName","vehicleVisitTypeName","openSelectUnit","AmountCalculations","totalGstAmount","totalPstAmount","Number","getStockDetails","toPromise","getItemBudget","_this2","_this3","isItemAlreadyAdded","fromStockDetails","fromCostCenterId","fromProjectId","toStockDetails","budget","monthlyBudgetAvailable","availableBudget","monthlyBudgetAmount","monthlyBudget","monthlyBudgetConsumed","budgetConsumed","itemFinancialIntegration","lastPurchaseRate","displayItem","acknowledgedQty","documentNumber","MakeVoucher","_this4","SetupsService","ServiceQuotationComponent_Query","ServiceQuotationComponent_ng_template_1_Template","ServiceQuotationComponent_ng_template_2_Template","ServiceQuotationComponent_ng_template_6_Template","ServiceQuotationComponent_ng_template_7_Template","ServiceQuotationComponent_Template_p_paginator_onPageChange_8_listener","ServiceQuotationComponent_Template_p_dialog_visibleChange_9_listener","ServiceQuotationComponent_Template_p_calendar_ngModelChange_19_listener","ServiceQuotationComponent_Template_app_picker_valueSelected_22_listener","ServiceQuotationComponent_Template_app_picker_valueSelected_25_listener","ServiceQuotationComponent_Template_app_picker_valueSelected_28_listener","ServiceQuotationComponent_Template_input_ngModelChange_33_listener","ServiceQuotationComponent_Template_p_calendar_ngModelChange_37_listener","ServiceQuotationComponent_Template_p_calendar_ngModelChange_44_listener","ServiceQuotationComponent_Template_input_ngModelChange_48_listener","ServiceQuotationComponent_Template_input_ngModelChange_53_listener","ServiceQuotationComponent_Template_input_ngModelChange_57_listener","ServiceQuotationComponent_Template_input_ngModelChange_62_listener","ServiceQuotationComponent_Template_input_ngModelChange_66_listener","ServiceQuotationComponent_Template_input_ngModelChange_70_listener","ServiceQuotationComponent_Template_p_button_click_73_listener","ServiceQuotationComponent_Template_p_button_click_74_listener","ServiceQuotationComponent_Template_ag_grid_angular_gridReady_76_listener","ServiceQuotationComponent_Template_ag_grid_angular_cellClicked_76_listener","ServiceQuotationComponent_Template_ag_grid_angular_cellValueChanged_76_listener","ServiceQuotationComponent_Template_p_inputNumber_ngModelChange_81_listener","ServiceQuotationComponent_Template_p_inputNumber_ngModelChange_85_listener","ServiceQuotationComponent_Template_p_inputNumber_ngModelChange_89_listener","ServiceQuotationComponent_Template_p_inputNumber_ngModelChange_93_listener","ServiceQuotationComponent_Template_app_picker_valueSelected_97_listener","ServiceQuotationComponent_Template_app_picker_valueSelected_100_listener","ServiceQuotationComponent_Template_app_picker_valueSelected_102_listener","ServiceQuotationComponent_Template_input_ngModelChange_107_listener","ServiceQuotationComponent_Template_input_ngModelChange_112_listener","ServiceQuotationComponent_Template_input_ngModelChange_117_listener","ServiceQuotationComponent_Template_input_ngModelChange_122_listener","ServiceQuotationComponent_Template_input_ngModelChange_127_listener","ServiceQuotationComponent_Template_input_ngModelChange_132_listener","ServiceQuotationComponent_Template_input_ngModelChange_137_listener","ServiceQuotationComponent_Template_app_picker_valueSelected_141_listener","ServiceQuotationComponent_Template_input_ngModelChange_145_listener","ServiceQuotationComponent_Template_p_checkbox_ngModelChange_147_listener","isConfirmed","ServiceQuotationComponent_Template_p_dialog_visibleChange_150_listener","ServiceQuotationComponent_ng_template_154_Template","ServiceQuotationComponent_ng_template_155_Template","ServiceQuotationComponent_Template_p_button_onClick_157_listener","ServiceQuotationComponent_p_button_158_Template","ServiceQuotationComponent_p_button_159_Template","_c4","itemData","LookupComponent","SalesTaxTypeComponent_ng_template_1_Template_input_ngModelChange_4_listener","SalesTaxTypeComponent_ng_template_1_Template_p_checkbox_ngModelChange_7_listener","injector","msgService","validateFromParent","validateLocation","createOrEditAfterValidation","Injector","features","ɵɵInheritDefinitionFeature","SalesTaxTypeComponent_Template","SalesTaxTypeComponent_Template_app_lookup_validateFunction_0_listener","SalesTaxTypeComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","VoucherStatusComponent_ng_template_1_Template_input_ngModelChange_4_listener","VoucherStatusComponent_ng_template_1_Template_p_checkbox_ngModelChange_7_listener","VoucherStatusComponent_Template","VoucherStatusComponent_Template_app_lookup_validateFunction_0_listener","VoucherStatusComponent_ng_template_1_Template","newBaseUrl","http","commonUrl","baseUrl","url","url_","IsDropdown","max","post","getData","queryParams","undefined","join","salesTaxId","salesTaxDate","ɵɵinject","HttpClient","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}