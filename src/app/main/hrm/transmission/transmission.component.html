<p-tabView [(activeIndex)]="activeIndex" class="custom-tabview" (onChange)="onTabChange($event)">
    <p-tabPanel *ngIf="!isPermitted('LookUps.EmployeeChangeLog')" class="designation-inputs" header="Designation">
        <div class="card m-0 overflow-auto hide-scroll" style="height: 84vh ;">
            <p-toolbar styleClass="mb-0 py-4 px-0">
                <ng-template pTemplate="left">
                    <div class="flex items-center">
                        <h3 class="tab-name m-0">Designation Change</h3>
                    </div>
                </ng-template>
                <ng-template pTemplate="right">
                    <div class="flex items-center">
                        <div class="mt-0">
                            <button pButton pRipple [rounded]="true" class="p-button-success mr-2 rounded"
                                (click)="save()" label="Save"></button>
                        </div>
                        <div class="mt-0">
                            <button pButton pRipple [rounded]="true" class="p-button-success rounded"
                                (click)="clear()" label="Clear"></button>
                        </div>
                    </div>
                </ng-template>
            </p-toolbar>
            <div class="row">
                <div class="col-md-6">
                    <!-- <app-picker [title]="'Employee'" [id]="transitionInputsDto.erpId"
                        [name]="transitionInputsDto.erpName"
                        (valueSelected)="setPickerValue($event, 'Employee')"></app-picker> -->
                        <label for="name">Employee:</label>
                        <p-dropdown
                        [options]="employeeDropdown"
                        [(ngModel)]="employeeSelectedItem"
                        [filter]="true"
                        [filterBy]="'id,name'"
                        [showClear]="true"
                        optionLabel="name"
                        (onChange)="onDropdownChange($event, 'Employee')"
                         placeholder="Employee"
                            >
                        <ng-template let-item pTemplate="item">
                        <div class=" nowrap" style="max-width: 426px;" title="{{ item.id }} - {{ item.name }}">{{ item.id }} - {{ item.name }}</div>
                        </ng-template>
                        <ng-template let-item pTemplate="selectedItem">
                            <div *ngIf="item" class=" nowrap" title="{{ item.id }} - {{ item.name }}">{{ item.id }} - {{ item.name }}</div>
                        </ng-template>
                        </p-dropdown>
                </div>
                <!-- <div class="col-md-2 flex flex-column">
                    <label for="MasterDesignationId">First Ever Id</label>
                    <input type="text" id="MasterDesignationId" [(ngModel)]="transitionInputsDto.masterId"
                        autocomplete="off" readonly />
                </div> -->
                <div class="col-md-6 d-flex flex-column">
                    <label  for="MasterDesignationTitle">First Ever Designation</label>
                    <input style="height: 48px; padding-left:12px;" type="text" id="MasterDesignationTitle" autocomplete="off" class="" disabled
                        [(ngModel)]="transitionInputsDto.masterName" readonly name="transitionInputsDto.masterName" />
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-6">
                    <!-- <app-picker [disable]="true" [title2]="'Designation'" [title]="'Current Designation'"
                        [id]="transitionInputsDto.currentId" [name]="transitionInputsDto.currentName"
                        (valueSelected)="setPickerValue($event, 'current')"></app-picker> -->
                        <label for="name">Current Designation:</label>
                        <p-dropdown
                        [options]="currentDesignationDropdown"
                        [(ngModel)]="currentDesignationSelectedItem"
                        [filter]="true"
                        [filterBy]="'id,name'"
                        [showClear]="true"
                        optionLabel="name"
                        (onChange)="onDropdownChange($event, 'current')"
                         placeholder="Current Designation"
                            >
                        <ng-template let-item pTemplate="item">
                        <div class=" nowrap" style="max-width: 426px;" title="{{ item.id }} - {{ item.name }}">{{ item.id }} - {{ item.name }}</div>
                        </ng-template>
                        <ng-template let-item pTemplate="selectedItem">
                            <div *ngIf="item" class=" nowrap" title="{{ item.id }} - {{ item.name }}">{{ item.id }} - {{ item.name }}</div>
                        </ng-template>
                        </p-dropdown>
                </div>
                <div class="col-md-6">
                    <!-- <app-picker [title2]="'Designation'" [title]="'New Designation '" [id]="transitionInputsDto.newId"
                        [name]="transitionInputsDto.newName"
                        (valueSelected)="setPickerValue($event, 'new')"></app-picker> -->
                        <label for="name">New Designation:</label>
                        <p-dropdown
                        [options]="newDesignationDropdown"
                        [(ngModel)]="newDesignationSelectedItem"
                        [filter]="true"
                        [filterBy]="'id,name'"
                        [showClear]="true"
                        optionLabel="name"
                        (onChange)="onDropdownChange($event, 'new')"
                         placeholder="New Designation"
                            >
                        <ng-template let-item pTemplate="item">
                        <div class=" nowrap" style="max-width: 426px;" title="{{ item.id }} - {{ item.name }}">{{ item.id }} - {{ item.name }}</div>
                        </ng-template>
                        <ng-template let-item pTemplate="selectedItem">
                            <div *ngIf="item" class=" nowrap" title="{{ item.id }} - {{ item.name }}">{{ item.id }} - {{ item.name }}</div>
                        </ng-template>
                        </p-dropdown>
                </div>
                <div class="col-md-6 flex flex-column mt-3">
                    <label for="date">Effect from </label>
                    <p-calendar inputId="date" [(ngModel)]="transitionInputsDto.applicableFrom" />
                </div>
            </div>
            
            <div class="row">
               <div class="col-12">
                    <ag-grid-angular style="width:100%; height: 275px; margin-top: 12px" class="ag-theme-balham"
                                     [rowData]="rowData" [columnDefs]="colDefs" [animateRows]="true" [suppressAutoSize]="true"
                                     (gridReady)="onGridReady($event)"
                    >
                    </ag-grid-angular>
               </div>
            </div>
        </div>
    </p-tabPanel>
    <p-tabPanel *ngIf="!isPermitted('LookUps.EmployeeChangeLog')" class="department-inputs" header="Department">
        <app-department-change></app-department-change>
    </p-tabPanel>
    <p-tabPanel *ngIf="!isPermitted('LookUps.EmployeeChangeLog')" class="team-inputs" header="Team">
        <app-team-change></app-team-change>
    </p-tabPanel>

  <p-tabPanel *ngIf="!isPermitted('LookUps.EmployeeChangeLog')" class="grade-inputs"  header="Grade">
    <app-grade-change></app-grade-change>
  </p-tabPanel>

  <p-tabPanel
    *ngIf="!isPermitted('LookUps.EmployeeChangeLog')"
    header="Project"
    class="project-change-inputs"
  >
    <app-project-change></app-project-change>
  </p-tabPanel>

  <p-tabPanel
    *ngIf="!isPermitted('LookUps.EmployeeChangeLog')"
    header="Location"
    class="location-change-inputs"
  >
    <app-location-change></app-location-change>
  </p-tabPanel>

  <p-tabPanel 
    *ngIf="!isPermitted('LookUps.EmployeeChangeLog')" 
    header="Shift" 
    class="shift-change-inputs"
  >
    <app-shift-change></app-shift-change>
  </p-tabPanel>

  <p-tabPanel
    *ngIf="!isPermitted('LookUps.EmployeeChangeLog')"
    header="CostCenter"
    class="cost-center-change-inputs"
  >
    <app-cost-center-change></app-cost-center-change>
  </p-tabPanel>

  <p-tabPanel
    *ngIf="!isPermitted('LookUps.EmployeeSalary')"
    header="Salary Increment"
    class="salary-increments-inputs"
  >
    <app-salary-increments></app-salary-increments>
  </p-tabPanel>
</p-tabView>
<div>
  <p-toast />
  <p-confirmDialog class="cancel-modal"/>
</div>
